import{c as Q,r as c,j as e,N as b,W as O,X as W,O as y,t as Z,i as ee,k as se,u as te,K as d,D as ae,E as re,e as $,M as le}from"./index-CfUjm6_w.js";import{C as ie,c as ne}from"./ChatWindow-CfWEPCHw.js";import{i as ce,c as oe,d as de,e as xe,f as he,h as me}from"./marketplaceServiceNew-BavqKjOw.js";import{C as ge,L as C}from"./marketplace-Deg-FW8s.js";import{C as M}from"./chevron-right-DQZrVf65.js";import{S as P,P as f}from"./shopping-cart-kLTjNveP.js";import{S as w}from"./star-D6U974Oz.js";import{E as ue}from"./eye-CrROcG6s.js";import{G as be}from"./github-Dv4OOpT7.js";import{S as G}from"./shield-DK4YcWNy.js";import{F as pe}from"./file-text-QWi7dhFJ.js";import{P as ye}from"./play-Bs9F44ZA.js";import"./send-BVzDoBY-.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_=Q("chevron-left",fe);function je({images:r,alt:l}){const[t,h]=c.useState(0),[g,s]=c.useState(!1);if(!r||r.length===0)return e.jsx("div",{className:"w-full h-96 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:e.jsx("div",{className:"text-white text-6xl font-bold",children:l.charAt(0)})});const i=()=>{h(n=>n===0?r.length-1:n-1)},o=()=>{h(n=>n===r.length-1?0:n+1)};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-gray-100 dark:bg-gray-800 group cursor-pointer",children:[e.jsx(b.img,{src:r[t],alt:`${l} - Image ${t+1}`,className:"w-full h-96 object-cover",onClick:()=>s(!0),initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},t),r.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:n=>{n.stopPropagation(),i()},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(_,{className:"w-6 h-6"})}),e.jsx("button",{onClick:n=>{n.stopPropagation(),o()},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(M,{className:"w-6 h-6"})})]}),r.length>1&&e.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/70 text-white px-3 py-1 rounded-full text-sm",children:[t+1," / ",r.length]})]}),r.length>1&&e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:r.map((n,x)=>e.jsx(b.button,{onClick:()=>h(x),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-all ${t===x?"scale-105":"border-gray-300 dark:border-gray-600 hover:border-[#00ADB5]/50"}`,style:t===x?{borderColor:"#00ADB5"}:{},whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx("img",{src:n,alt:`Thumbnail ${x+1}`,className:"w-full h-full object-cover"})},x))}),e.jsx(O,{children:g&&e.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s(!1),className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:[e.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 text-white hover:text-gray-300 p-2 rounded-full bg-black/50 hover:bg-black/70 transition-colors",children:e.jsx(W,{className:"w-6 h-6"})}),r.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:n=>{n.stopPropagation(),i()},className:"absolute left-4 text-white hover:text-gray-300 p-2 rounded-full bg-black/50 hover:bg-black/70 transition-colors",children:e.jsx(_,{className:"w-8 h-8"})}),e.jsx("button",{onClick:n=>{n.stopPropagation(),o()},className:"absolute right-4 text-white hover:text-gray-300 p-2 rounded-full bg-black/50 hover:bg-black/70 transition-colors",children:e.jsx(M,{className:"w-8 h-8"})})]}),e.jsx(b.img,{src:r[t],alt:`${l} - Full size`,className:"max-w-full max-h-full object-contain",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.2},onClick:n=>n.stopPropagation()},t),e.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full",children:[t+1," / ",r.length]})]})})]})}function we({isOpen:r,onClose:l,project:t,onConfirm:h,isPurchasing:g}){return e.jsx(O,{children:r&&e.jsxs(e.Fragment,{children:[e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40"}),e.jsxs(b.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl z-50 w-full max-w-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Confirm Purchase"}),e.jsx("button",{onClick:l,className:"text-gray-500 hover:text-gray-700 dark:text-white dark:hover:text-gray-200 p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:e.jsx(W,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex gap-4",children:[t.images&&t.images.length>0?e.jsx("img",{src:t.images[0],alt:t.title,className:"w-24 h-24 rounded-lg object-cover"}):e.jsx("div",{className:"w-24 h-24 rounded-lg flex items-center justify-center text-white text-3xl font-bold",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:t.title.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:t.title}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-white mb-2",children:["by ",t.sellerName]}),e.jsx("div",{className:"flex items-center gap-2",children:t.techStack.slice(0,2).map((s,i)=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-white rounded text-xs",children:s},i))})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"What you'll get:"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-white",children:[e.jsx(y,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{children:"Full source code access"})]}),t.links.github&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-white",children:[e.jsx(y,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{children:"GitHub repository"})]}),t.links.liveDemo&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-white",children:[e.jsx(y,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{children:"Live demo access"})]}),t.links.documentation&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-white",children:[e.jsx(y,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{children:"Documentation"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-white",children:[e.jsx(y,{className:"w-5 h-5 text-green-500"}),e.jsxs("span",{children:[t.licenseType," license"]})]})]})]}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700 dark:text-white",children:"Total Price:"}),e.jsx("span",{className:"text-3xl font-bold",style:{color:"#00ADB5"},children:t.isFree?"FREE":`$${t.price}`})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:l,className:"flex-1 px-4 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-white rounded-lg font-semibold hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",disabled:g,children:"Cancel"}),e.jsx("button",{onClick:h,disabled:g,className:"flex-1 px-4 py-3 text-white rounded-lg font-semibold transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Processing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"w-5 h-5"}),e.jsx("span",{children:t.isFree?"Get Free":"Purchase Now"})]})})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-white text-center mt-4",children:"By purchasing, you agree to our Terms of Service"})]})]})})}function Ne({reviews:r,averageRating:l,totalReviews:t}){const h=i=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(i),s=(()=>{const i=[0,0,0,0,0];return r.forEach(o=>{i[o.rating-1]++}),i.reverse()})();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Customer Reviews"}),e.jsxs("div",{className:"flex items-start gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl font-bold text-gray-900 dark:text-white mb-2",children:l.toFixed(1)}),e.jsx("div",{className:"flex items-center justify-center gap-1 mb-2",children:[...Array(5)].map((i,o)=>e.jsx(w,{className:`w-5 h-5 ${o<Math.floor(l)?"text-yellow-400 fill-yellow-400":"text-gray-300 dark:text-gray-600"}`},o))}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-white",children:[t," review",t!==1?"s":""]})]}),e.jsx("div",{className:"flex-1 space-y-2",children:[5,4,3,2,1].map((i,o)=>{const n=s[o],x=t>0?n/t*100:0;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-white w-8",children:[i,"★"]}),e.jsx("div",{className:"flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-yellow-400 transition-all duration-500",style:{width:`${x}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-white w-12 text-right",children:n})]},i)})})]})]}),e.jsx("div",{className:"space-y-4",children:r.length===0?e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-8 border border-gray-200 dark:border-gray-700 text-center",children:e.jsx("p",{className:"text-gray-600 dark:text-white",children:"No reviews yet. Be the first to review!"})}):r.map((i,o)=>e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("img",{src:i.buyerAvatar||"https://via.placeholder.com/40",alt:i.buyerName,className:"w-12 h-12 rounded-full border-2",style:{borderColor:"#00ADB5"}}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:i.buyerName}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-white",children:h(i.createdAt)})]}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((n,x)=>e.jsx(w,{className:`w-4 h-4 ${x<i.rating?"text-yellow-400 fill-yellow-400":"text-gray-300 dark:text-gray-600"}`},x))})]}),e.jsx("p",{className:"text-gray-700 dark:text-white leading-relaxed",children:i.comment})]})]})},i.id))})]})}function Te(){const{projectId:r}=Z(),{user:l}=ee(),{userprofile:t,avatrUrl:h}=se(),g=te(),[s,i]=c.useState(null),[o,n]=c.useState([]),[x,S]=c.useState(!0),[u,D]=c.useState(!1),[U,N]=c.useState(!1),[H,A]=c.useState(!1),[F,q]=c.useState(null),[z,B]=c.useState(!1),[V,k]=c.useState(!1),[R,I]=c.useState(5),[j,E]=c.useState(""),[L,T]=c.useState(!1);c.useEffect(()=>{r&&(v(),ce(r))},[r]);const v=async()=>{if(r)try{S(!0);const[a,p]=await Promise.all([oe(r),de(r)]);if(a){if(i(a),n(p),l?.id){const J=await xe(l.id,r);D(J)}}else d.error("Project not found"),g("/dashboard/marketplace")}catch(a){console.error("Error loading project:",a);const p=a?.code==="permission-denied"?"Access denied. Please make sure Firestore rules are deployed.":"Failed to load project. Please try again.";d.error(p),g("/dashboard/marketplace")}finally{S(!1)}},Y=async()=>{if(!(!l||!s)){A(!0);try{await he(s.id,s,l.id,t?.name||"User"),d.success(s.isFree?"Project added to your library!":"Purchase successful!"),D(!0),N(!1),v()}catch(a){console.error("Error purchasing:",a),d.error("Purchase failed. Please try again.")}finally{A(!1)}}},K=async()=>{if(!(!l||!s))try{const a=await ne(l.id,t?.name||"User",h||"",s.sellerId,s.sellerName,s.sellerAvatar,s.id,s.title);if(a.status==="pending"){a.isNew?d.success("Chat request sent! Waiting for seller to accept."):d("Your chat request is pending. Waiting for seller to accept.",{icon:"⏳"});return}if(a.status==="rejected"){d.error("Your chat request was declined by the seller.");return}q({id:a.chatId,participants:[l.id,s.sellerId],participantNames:{[l.id]:t?.name||"User",[s.sellerId]:s.sellerName},participantAvatars:{[l.id]:h||"",[s.sellerId]:s.sellerAvatar},projectId:s.id,projectTitle:s.title,status:a.status,requesterId:l.id,sellerId:s.sellerId,lastMessage:"",lastMessageTime:new Date,unreadCount:{[l.id]:0,[s.sellerId]:0}}),B(!0)}catch(a){console.error("Error creating chat:",a),d.error("Failed to start chat")}},X=async()=>{if(!l||!s||!j.trim()){d.error("Please write a review");return}T(!0);try{await me(s.id,l.id,t?.name||"User",h||"",R,j),d.success("Review submitted!"),k(!1),E(""),I(5),v()}catch(a){console.error("Error submitting review:",a),d.error("Failed to submit review")}finally{T(!1)}};if(x)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 border-4 border-t-transparent rounded-full animate-spin",style:{borderColor:"#00ADB5",borderTopColor:"transparent"}})});if(!s)return null;const m=l?.id===s.sellerId;return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("button",{onClick:()=>g("/dashboard/marketplace"),className:"mb-6 flex items-center gap-2 text-gray-600 dark:text-white transition-colors",onMouseEnter:a=>a.currentTarget.style.color="#00ADB5",onMouseLeave:a=>a.currentTarget.style.color="",children:[e.jsx(ae,{className:"w-5 h-5"}),"Back to Marketplace"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(je,{images:s.images,alt:s.title}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-white",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(w,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),e.jsx("span",{className:"font-semibold",children:s.rating}),e.jsxs("span",{children:["(",s.reviewCount," reviews)"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ue,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.views," views"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.purchases," sales"]})]})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-700 dark:text-white leading-relaxed whitespace-pre-wrap",children:s.description})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Tech Stack"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.techStack.map((a,p)=>e.jsx("span",{className:"px-3 py-1.5 rounded-lg text-sm font-medium",style:{backgroundColor:"rgba(0, 173, 181, 0.15)",color:"#00ADB5"},children:a},p))})]}),(s.links.github||s.links.liveDemo||s.links.documentation||s.links.video)&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Project Links"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.links.github&&e.jsxs("a",{href:u||m?s.links.github:"#",target:u||m?"_blank":void 0,rel:"noopener noreferrer",onClick:a=>{!u&&!m&&(a.preventDefault(),d.error("Purchase to access"))},className:"flex items-center gap-2 px-4 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors",children:[e.jsx(be,{className:"w-5 h-5"}),e.jsx("span",{children:"GitHub Repository"}),!u&&!m&&e.jsx(G,{className:"w-4 h-4 ml-auto"})]}),s.links.liveDemo&&e.jsxs("a",{href:s.links.liveDemo,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(re,{className:"w-5 h-5"}),e.jsx("span",{children:"Live Demo"})]}),s.links.documentation&&e.jsxs("a",{href:u||m?s.links.documentation:"#",target:u||m?"_blank":void 0,rel:"noopener noreferrer",onClick:a=>{!u&&!m&&(a.preventDefault(),d.error("Purchase to access"))},className:"flex items-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(pe,{className:"w-5 h-5"}),e.jsx("span",{children:"Documentation"}),!u&&!m&&e.jsx(G,{className:"w-4 h-4 ml-auto"})]}),s.links.video&&e.jsxs("a",{href:s.links.video,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(ye,{className:"w-5 h-5"}),e.jsx("span",{children:"Video Demo"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-white mb-1",children:"Category"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:ge[s.category]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-white mb-1",children:"License"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:C[s.licenseType]})]})]})]}),e.jsx(Ne,{reviews:o,averageRating:s.rating,totalReviews:s.reviewCount}),u&&!m&&e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:V?e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Write Your Review"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Rating"}),e.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(a=>e.jsx("button",{onClick:()=>I(a),className:"focus:outline-none",children:e.jsx(w,{className:`w-8 h-8 ${a<=R?"text-yellow-400 fill-yellow-400":"text-gray-300 dark:text-gray-600"}`})},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Review"}),e.jsx("textarea",{value:j,onChange:a=>E(a.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-[#00ADB5]",placeholder:"Share your experience with this project..."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>k(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:X,disabled:L||!j.trim(),className:"flex-1 px-4 py-2 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90",style:{backgroundColor:"#00ADB5"},children:L?"Submitting...":"Submit Review"})]})]}):e.jsx("button",{onClick:()=>k(!0),className:"w-full px-4 py-3 text-white rounded-lg transition-colors font-semibold hover:opacity-90",style:{backgroundColor:"#00ADB5"},children:"Write a Review"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 sticky top-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("p",{className:"text-4xl font-bold mb-2",style:{color:"#00ADB5"},children:s.isFree?"FREE":`$${s.price}`}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-white",children:C[s.licenseType]})]}),m?e.jsx($,{to:"/dashboard/marketplace/my-listings",className:"block w-full px-4 py-3 bg-gray-600 text-white rounded-lg text-center font-semibold hover:bg-gray-700 transition-colors mb-3",children:"View in My Listings"}):u?e.jsx("div",{className:"text-center py-3 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg font-semibold mb-3",children:"✓ Already Purchased"}):e.jsxs("button",{onClick:()=>N(!0),className:"w-full px-4 py-3 text-white rounded-lg font-semibold transition-all flex items-center justify-center gap-2 mb-3 hover:opacity-90",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:[e.jsx(P,{className:"w-5 h-5"}),s.isFree?"Get for Free":"Buy Now"]}),!m&&e.jsxs("button",{onClick:K,className:"w-full px-4 py-3 border-2 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2 hover:bg-[#00ADB5]/10",style:{borderColor:"#00ADB5",color:"#00ADB5"},children:[e.jsx(le,{className:"w-5 h-5"}),"Contact Seller"]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-white mb-3",children:"Sold by"}),e.jsxs($,{to:`/dashboard/marketplace/seller/${s.sellerId}`,className:"flex items-center gap-3 hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded-lg transition-colors",children:[e.jsx("img",{src:s.sellerAvatar||"https://via.placeholder.com/40",alt:s.sellerName,className:"w-12 h-12 rounded-full border-2",style:{borderColor:"#00ADB5"}}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:s.sellerName}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-white",children:"View Profile"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"What's Included"}),e.jsxs("ul",{className:"space-y-3 text-sm text-gray-700 dark:text-white",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(f,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Full source code"})]}),s.links.github&&e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(f,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"GitHub repository access"})]}),s.links.documentation&&e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(f,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Complete documentation"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(f,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:C[s.licenseType]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(f,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Lifetime access"})]})]})]})]})]})]}),e.jsx(we,{isOpen:U,onClose:()=>N(!1),project:s,onConfirm:Y,isPurchasing:H}),F&&e.jsx(ie,{chat:F,isOpen:z,onClose:()=>B(!1)})]})}export{Te as default};
