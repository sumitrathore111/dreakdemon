import{i as h,r as i,K as p,j as e,H as l,e as r,J as b,p as j,E as y}from"./index-Do6L6L7r.js";import{o as f}from"./marketplaceServiceNew-CwxS4q6E.js";import{M as u}from"./MessagesPanel-C-VUVoQb.js";import{G as w}from"./github-n9os_Egi.js";import{F as N}from"./file-text-B588Isxu.js";import"./ChatWindow-CZaMUioR.js";import"./send-DG_CacyJ.js";function P(){const{user:t}=h(),[a,c]=i.useState([]),[x,n]=i.useState(!0);i.useEffect(()=>{t?.id&&m()},[t]);const m=async()=>{if(t?.id)try{n(!0);const s=await f(t.id);c(s)}catch(s){console.error("Error loading purchases:",s),p.error("Failed to load purchases")}finally{n(!1)}},g=a.reduce((s,o)=>s+o.price,0);return x?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-t-transparent rounded-full animate-spin mb-4",style:{borderColor:"#00ADB5",borderTopColor:"transparent"}}),e.jsx("p",{className:"text-gray-600 dark:text-white font-medium",children:"Loading your purchases..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",style:{color:"#00ADB5"},children:"My Purchases"}),e.jsx("p",{className:"text-gray-600 dark:text-white",children:"Access all your purchased projects"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(u,{})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"rgba(0, 173, 181, 0.1)"},children:e.jsx(l,{className:"w-6 h-6",style:{color:"#00ADB5"}})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.length}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-white",children:"Total Purchases"})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"ðŸ’°"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",g]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-white",children:"Total Spent"})]})]})})]}),a.length===0?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-12 text-center border border-gray-200 dark:border-gray-700 shadow-sm",children:[e.jsx("div",{className:"p-4 rounded-full w-24 h-24 mx-auto mb-6 flex items-center justify-center",style:{backgroundColor:"rgba(0, 173, 181, 0.1)"},children:e.jsx(l,{className:"w-12 h-12",style:{color:"#00ADB5"}})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"No purchases yet"}),e.jsx("p",{className:"text-gray-600 dark:text-white text-lg mb-6",children:"Start building your project collection today!"}),e.jsxs(r,{to:"/dashboard/marketplace",className:"inline-flex items-center gap-2 px-8 py-4 text-white rounded-lg transition-all font-semibold shadow-lg hover:opacity-90",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:[e.jsx(l,{className:"w-5 h-5"}),"Browse Marketplace"]})]}):e.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.map((s,o)=>e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx(r,{to:`/dashboard/marketplace/project/${s.projectId}`,children:s.projectImages&&s.projectImages.length>0?e.jsx("img",{src:s.projectImages[0],alt:s.projectTitle,className:"w-48 h-32 object-cover rounded-lg shadow-sm"}):e.jsx("div",{className:"w-48 h-32 rounded-lg flex items-center justify-center text-white text-4xl font-bold shadow-sm",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:s.projectTitle.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(r,{to:`/dashboard/marketplace/project/${s.projectId}`,className:"text-2xl font-bold text-gray-900 dark:text-white transition-colors mb-2 block",onMouseEnter:d=>d.currentTarget.style.color="#00ADB5",onMouseLeave:d=>d.currentTarget.style.color="",children:s.projectTitle}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-white mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(j,{className:"w-4 h-4"}),e.jsxs("span",{children:["Purchased on"," ",new Date(s.purchasedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),e.jsx("span",{className:"px-3 py-1 rounded-full font-semibold",style:{backgroundColor:"rgba(0, 173, 181, 0.15)",color:"#00ADB5"},children:s.price===0?"FREE":`$${s.price}`})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-white mb-4",children:[e.jsx("span",{children:"Seller:"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:s.sellerName})]}),s.accessLinks&&e.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.accessLinks.github&&e.jsxs("a",{href:s.accessLinks.github,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors text-sm font-medium shadow-sm",children:[e.jsx(w,{className:"w-4 h-4"}),"GitHub"]}),s.accessLinks.liveDemo&&e.jsxs("a",{href:s.accessLinks.liveDemo,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium shadow-sm",children:[e.jsx(y,{className:"w-4 h-4"}),"Live Demo"]}),s.accessLinks.documentation&&e.jsxs("a",{href:s.accessLinks.documentation,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium shadow-sm",children:[e.jsx(N,{className:"w-4 h-4"}),"Docs"]}),e.jsx(r,{to:`/dashboard/marketplace/project/${s.projectId}`,className:"flex items-center gap-2 px-4 py-2 text-white rounded-lg transition-colors text-sm font-medium shadow-sm hover:opacity-90",style:{backgroundColor:"#00ADB5"},children:"View Details"})]})]})]})},s.id))}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs(r,{to:"/dashboard/marketplace",className:"inline-flex items-center gap-2 px-8 py-4 text-white rounded-lg transition-all font-semibold text-lg shadow-lg hover:opacity-90",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:[e.jsx(l,{className:"w-5 h-5"}),"Browse More Projects"]})})]})})}export{P as default};
