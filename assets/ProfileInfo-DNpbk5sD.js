import{c as A,j as e,r as o,k as Q,a9 as C,g as Z,P as ee,aa as se,d as ae,G as le}from"./index-B6YfcQAC.js";import{U as I}from"./user-WDXO39Wi.js";import{M as te}from"./map-pin-QDNLg5tn.js";import{F as re}from"./file-text-DMUZ32sY.js";import{P}from"./plus-Dn4mpS1L.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],ne=A("building",ie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],oe=A("graduation-cap",ce);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],R=A("pen-line",de);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],he=A("save",xe),x=({children:a,variant:r="default",size:h="md",className:w="",...p})=>{const j="inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-900",t={default:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 disabled:opacity-50",ghost:"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300",primary:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500 disabled:opacity-50"},n={sm:"px-2 py-1 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return e.jsx("button",{className:`${j} ${t[r]} ${n[h]} ${w}`,...p,children:a})},i=o.forwardRef(({className:a="",...r},h)=>e.jsx("input",{ref:h,className:`border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 w-full ${a}`,...r}));i.displayName="Input";const g=({className:a="",...r})=>e.jsx("label",{className:`block text-sm font-medium text-gray-700 dark:text-gray-300 ${a}`,...r}),U=({children:a,variant:r="secondary",className:h="",...w})=>{const p={primary:"bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-400",secondary:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"};return e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ${p[r]} ${h}`,...w,children:a})},B=o.forwardRef(({className:a="",...r},h)=>e.jsx("textarea",{ref:h,className:`border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 w-full ${a}`,...r}));B.displayName="Textarea";const b=({className:a="",...r})=>e.jsx("div",{className:`rounded-xl shadow-sm p-4 bg-white dark:bg-gray-800 ${a}`,...r}),v=({className:a="",...r})=>e.jsx("div",{className:`mb-2 ${a}`,...r}),N=({className:a="",...r})=>e.jsx("h3",{className:`text-lg font-semibold text-gray-900 dark:text-white ${a}`,...r}),k=({className:a="",...r})=>e.jsx("div",{className:`space-y-2 ${a}`,...r}),me=["ðŸ˜€","ðŸ˜Ž","ðŸ¤“","ðŸ§‘â€ðŸ’»","ðŸ‘¨â€ðŸ’»","ðŸ‘©â€ðŸ’»","ðŸ¦Š","ðŸ±","ðŸ¶","ðŸ¦","ðŸ¯","ðŸ»","ðŸ¼","ðŸ¨","ðŸ¸","ðŸ¦„","ðŸ²","ðŸ¦‹","ðŸŒŸ","â­","ðŸ”¥","ðŸ’Ž","ðŸŽ¯","ðŸš€","ðŸ’¡","ðŸŽ¨","ðŸŽ­","ðŸŽ®","ðŸ†","ðŸ‘‘","ðŸ¦¸","ðŸ§™","ðŸ§›","ðŸ§œ","ðŸ§š","ðŸ¦¹","ðŸ¥·","ðŸ§‘â€ðŸš€","ðŸ§‘â€ðŸ”¬","ðŸ§‘â€ðŸŽ¨"];function ye(){const[a,r]=o.useState(!1),[h,w]=o.useState(""),[p,j]=o.useState(!1),[t,n]=o.useState({uid:"",name:"Your Name",email:"you@example.com",phone:"9999999999",location:"Location",institute:"University Name",bio:"About yourself",skills:[],education:[],experience:[],achievements:[],links:[],profileCompletion:0,languages:[],yearOfStudy:"",createdAt:"",isprofileComplete:!1,role:"student",avatar:"",profilePic:""}),[$,L]=o.useState(""),[m,M]=o.useState({degree:"",school:"",year:""}),[d,S]=o.useState({title:"",company:"",year:"",desc:""}),[f,F]=o.useState({platform:"",url:""}),[_,Y]=o.useState(!1),{pushDataWithId:O,userprofile:c}=Q(),z=()=>{const s=h.trim();s&&!t.skills.includes(s)&&(n(l=>({...l,skills:[...l.skills,s]})),w(""))},D=s=>{n(l=>({...l,skills:l.skills.filter(u=>u!==s)}))},T=async()=>{Y(!0);try{await O(t),r(!1),alert("Profile saved successfully!")}catch(s){console.error("Error saving profile:",s),alert("Failed to save profile. Please try again.")}finally{Y(!1)}},y=(s,l)=>{n(u=>({...u,[l]:s.target.value}))},G=()=>{$.trim()&&(n(s=>({...s,achievements:[...s.achievements,$]})),L(""))},H=s=>{n(l=>({...l,achievements:l.achievements.filter(u=>u!==s)}))},V=()=>{m.degree&&m.school&&m.year&&(n(s=>({...s,education:[...s.education,m]})),M({degree:"",school:"",year:""}))},W=s=>{n(l=>({...l,education:l.education.filter((u,E)=>E!==s)}))},J=()=>{d.title&&d.company&&(n(s=>({...s,experience:[...s.experience,d]})),S({title:"",company:"",year:"",desc:""}))},K=s=>{n(l=>({...l,experience:l.experience.filter((u,E)=>E!==s)}))},X=()=>{f.platform&&f.url&&(n(s=>({...s,links:[...s.links,f]})),F({platform:"",url:""}))},q=s=>{n(l=>({...l,links:l.links.filter((u,E)=>E!==s)}))};return o.useEffect(()=>{c&&n({...c,uid:c.id||c._id,isprofileComplete:c.isProfileComplete??c.isprofileComplete,skills:c.skills||[],education:c.education||[],experience:c.experience||[],achievements:c.achievements||[],links:c.links||[],languages:c.languages||[],avatar:c.avatar||c.profilePic||"",profilePic:c.profilePic||c.avatar||""})},[c]),e.jsxs("div",{className:"space-y-6 px-4 sm:px-6 lg:px-10 py-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-3 items-start sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Profile"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1 text-sm sm:text-base",children:"Manage your personal information and skills"})]}),e.jsx(x,{onClick:()=>a?T():r(!0),className:"hover:from-blue-700 hover:to-green-700 w-full sm:w-auto",style:{backgroundColor:"#00ADB5"},disabled:_,children:_?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full"})," Saving..."]}):a?e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"h-4 w-4 mr-2"})," Save Changes"]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-4 w-4 mr-2"})," Edit Profile"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{children:e.jsxs(b,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:[e.jsx(v,{children:e.jsx(N,{className:"dark:text-white",children:"Profile Summary"})}),e.jsxs(k,{className:"space-y-4 text-center",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-3 cursor-pointer transition-transform hover:scale-105 border-4 border-white dark:border-gray-700 shadow-lg",style:{backgroundColor:"#00ADB5"},onClick:()=>a&&j(!p),children:t?.avatar||t?.profilePic?(t.avatar||t.profilePic||"").startsWith("http")?e.jsx("img",{src:t.avatar||t.profilePic,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):e.jsx("span",{className:"text-5xl",children:t.avatar||t.profilePic}):e.jsx(I,{className:"w-10 h-10 text-white"})}),a&&e.jsx("button",{onClick:()=>j(!p),className:"absolute bottom-2 right-0 w-8 h-8 bg-blue-500 hover:bg-blue-600 rounded-full flex items-center justify-center shadow-lg transition-colors",children:e.jsx(R,{className:"w-4 h-4 text-white"})}),p&&a&&e.jsxs("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 z-50 bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 p-3 w-72",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Choose your emoji"}),e.jsx("button",{onClick:()=>j(!1),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:e.jsx(C,{className:"w-4 h-4 text-gray-500"})})]}),e.jsx("div",{className:"grid grid-cols-8 gap-1 max-h-48 overflow-y-auto",children:me.map((s,l)=>e.jsx("button",{onClick:()=>{n(u=>({...u,avatar:s,profilePic:s})),j(!1)},className:`w-8 h-8 text-xl hover:bg-gray-100 dark:hover:bg-gray-700 rounded flex items-center justify-center transition-colors ${t.avatar===s?"bg-blue-100 dark:bg-blue-900 ring-2 ring-blue-500":""}`,children:s},l))}),e.jsx("button",{onClick:()=>{n(s=>({...s,avatar:"",profilePic:""})),j(!1)},className:"w-full mt-2 py-1.5 text-sm text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",children:"Remove Avatar"})]})]}),e.jsx("h3",{className:"font-semibold dark:text-white",children:t?.name}),e.jsx("p",{className:"text-sm text-gray-500",children:t?.institute}),e.jsxs("div",{className:"space-y-2 mt-2 text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm break-all",children:[e.jsx(Z,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"truncate",children:t?.email})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ee,{className:"h-4 w-4 text-green-600"}),e.jsxs("span",{children:["+ 91 ",t?.phone]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(te,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{children:t?.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ne,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{children:t?.institute})]}),e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx(re,{className:"h-4 w-4 text-pink-600 flex-shrink-0"}),e.jsx("span",{className:"break-words",children:t?.bio})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(b,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5 text-blue-600"}),"Basic Information"]})}),e.jsxs(k,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(g,{htmlFor:"name",children:"Full Name"}),e.jsx(i,{id:"name",value:t?.name,onChange:s=>y(s,"name"),disabled:!a,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(g,{htmlFor:"email",children:"Email"}),e.jsx(i,{id:"email",type:"email",value:t?.email??"",onChange:s=>y(s,"email"),disabled:!a,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(g,{htmlFor:"phone",children:"Phone"}),e.jsx(i,{id:"phone",value:t?.phone,onChange:s=>y(s,"phone"),disabled:!a,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(g,{htmlFor:"institute",children:"Institute"}),e.jsx(i,{id:"institute",value:t?.institute,onChange:s=>y(s,"institute"),disabled:!a,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(g,{htmlFor:"githubUsername",children:"GitHub Username"}),e.jsx(i,{id:"githubUsername",value:t?.githubUsername||"",onChange:s=>y(s,"githubUsername"),disabled:!a,className:"mt-1",placeholder:"e.g. johndoe"})]}),e.jsxs("div",{children:[e.jsx(g,{htmlFor:"yearOfStudy",children:"Year of Study"}),e.jsxs("select",{id:"yearOfStudy",value:t?.yearOfStudy||"",onChange:s=>n(l=>({...l,yearOfStudy:s.target.value})),disabled:!a,className:"mt-1 w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select Year"}),e.jsx("option",{value:"Year 1",children:"Year 1"}),e.jsx("option",{value:"Year 2",children:"Year 2"}),e.jsx("option",{value:"Year 3",children:"Year 3"}),e.jsx("option",{value:"Year 4",children:"Year 4"}),e.jsx("option",{value:"Passout 2023",children:"Passout 2023"}),e.jsx("option",{value:"Passout 2024",children:"Passout 2024"}),e.jsx("option",{value:"Passout 2025",children:"Passout 2025"})]})]})]}),e.jsxs("div",{children:[e.jsx(g,{htmlFor:"location",children:"Location"}),e.jsx(i,{id:"location",value:t?.location,onChange:s=>y(s,"location"),disabled:!a,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(g,{htmlFor:"bio",children:"Bio"}),e.jsx(B,{id:"bio",value:t?.bio,onChange:s=>y(s,"bio"),disabled:!a,className:"mt-1",rows:4})]})]})]})})]}),e.jsxs(b,{children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5 text-indigo-600"})," Education"]})}),e.jsxs(k,{className:"space-y-3",children:[t?.education?.map((s,l)=>e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:s.degree}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.school," | ",s.year]})]}),a&&e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>W(l),children:e.jsx(C,{className:"h-4 w-4 text-red-600"})})]},l)),a&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[e.jsx(i,{placeholder:"Degree",value:m.degree,onChange:s=>M({...m,degree:s.target.value})}),e.jsx(i,{placeholder:"School",value:m.school,onChange:s=>M({...m,school:s.target.value})}),e.jsx(i,{placeholder:"Year",value:m.year,onChange:s=>M({...m,year:s.target.value})}),e.jsx(x,{onClick:V,children:e.jsx(P,{className:"h-4 w-4"})})]})]})]}),e.jsxs(b,{children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 text-yellow-600"})," Experience / Projects"]})}),e.jsxs(k,{className:"space-y-3",children:[t?.experience.map((s,l)=>e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-start gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:s.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.company," | ",s.year]}),e.jsx("p",{className:"text-gray-500",children:s.desc})]}),a&&e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>K(l),children:e.jsx(C,{className:"h-4 w-4 text-red-600"})})]},l)),a&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-2",children:[e.jsx(i,{placeholder:"Title",value:d.title,onChange:s=>S({...d,title:s.target.value})}),e.jsx(i,{placeholder:"Company",value:d.company,onChange:s=>S({...d,company:s.target.value})}),e.jsx(i,{placeholder:"Year",value:d.year,onChange:s=>S({...d,year:s.target.value})}),e.jsx(i,{placeholder:"Description",value:d.desc,onChange:s=>S({...d,desc:s.target.value})}),e.jsx(x,{onClick:J,children:e.jsx(P,{className:"h-4 w-4"})})]})]})]}),e.jsxs(b,{children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-5 w-5 text-green-600"})," Achievements"]})}),e.jsxs(k,{className:"flex flex-wrap gap-2",children:[t?.achievements.map((s,l)=>e.jsxs(U,{variant:"secondary",className:"flex items-center gap-1",children:[s,a&&e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>H(s),className:"p-0 h-auto",children:e.jsx(C,{className:"h-3 w-3"})})]},l)),a&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[e.jsx(i,{placeholder:"New achievement",value:$,onChange:s=>L(s.target.value)}),e.jsx(x,{onClick:G,children:e.jsx(P,{className:"h-4 w-4"})})]})]})]}),e.jsxs(b,{children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-5 w-5 text-blue-600"})," Links"]})}),e.jsxs(k,{className:"space-y-2",children:[t?.links.map((s,l)=>e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-2",children:[e.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline break-all",children:[s.platform,": ",s.url]}),a&&e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>q(l),children:e.jsx(C,{className:"h-4 w-4 text-red-600"})})]},l)),a&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(i,{placeholder:"Platform",value:f.platform,onChange:s=>F({...f,platform:s.target.value})}),e.jsx(i,{placeholder:"URL",value:f.url,onChange:s=>F({...f,url:s.target.value})}),e.jsx(x,{onClick:X,children:e.jsx(P,{className:"h-4 w-4"})})]})]})]}),e.jsxs(b,{children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5 text-green-600"})," Skills"]})}),e.jsxs(k,{className:"space-y-3",children:[a?e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(i,{placeholder:"Add new skill...",value:h,onChange:s=>w(s.target.value),onKeyPress:s=>s.key==="Enter"&&z(),disabled:!a}),e.jsx(x,{onClick:z,disabled:!a,children:e.jsx(P,{className:"h-4 w-4"})})]}):null,e.jsx("div",{className:"flex flex-wrap gap-2",children:t?.skills.map((s,l)=>e.jsxs(U,{variant:"primary",className:"flex items-center gap-1",children:[s,a&&e.jsx(x,{variant:"ghost",size:"sm",className:"p-0 h-auto",onClick:()=>D(s),children:e.jsx(C,{className:"h-3 w-3"})})]},l))})]})]})]})}export{ye as default};
