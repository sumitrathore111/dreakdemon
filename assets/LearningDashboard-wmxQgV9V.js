import{l as w,r as g,j as e,I as t,e as c,a7 as m,B as v,O as C,a8 as S,T as A,Z as D,g as T,k as B}from"./index-Cx0yxhaY.js";import{d as L,P as u}from"./roadmapService-D3g2643b.js";import{T as N}from"./trending-up-o_NXJWdI.js";import{C as f}from"./chevron-right-DeS7ndF0.js";import{C as P}from"./clock-B9c_S7ww.js";const $={"first-topic":"üåü","ten-topics":"üìö","quarter-century":"üéØ","half-century":"üèÜ","week-streak":"üî•","month-streak":"üí™"};function W(){const{user:i}=w(),d=!!i,[s,l]=g.useState(null),[o,x]=g.useState(!0),y=g.useCallback(async()=>{try{x(!0);const a=await L();l(a)}catch(a){console.error("Error loading dashboard:",a)}finally{x(!1)}},[]);if(g.useEffect(()=>{d&&y()},[d,y]),!d)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-md",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#00ADB5] to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(N,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"Track Your Learning Progress"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Sign in to view your personalized learning dashboard, track progress across roadmaps, and earn badges."}),e.jsx(c,{to:"/login",className:"inline-flex items-center gap-2 bg-[#00ADB5] text-white px-6 py-3 rounded-lg font-medium hover:bg-[#00969d] transition-colors",children:"Sign In to Continue"})]})});if(o)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4 md:p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-8"}),e.jsx("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[1,2,3,4].map(a=>e.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded-xl"},a))}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 h-64 bg-gray-200 dark:bg-gray-700 rounded-xl"}),e.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded-xl"})]})]})});if(!s||s.stats.totalRoadmaps===0)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-md",children:[e.jsx(m,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Learning Progress Yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start learning by enrolling in a roadmap. Track your progress, earn badges, and master new skills!"}),e.jsxs(c,{to:"/dashboard/roadmaps",className:"inline-flex items-center gap-2 bg-[#00ADB5] text-white px-6 py-3 rounded-lg font-medium hover:bg-[#00969d] transition-colors",children:[e.jsx(m,{className:"w-5 h-5"}),"Browse Roadmaps"]})]})});const{stats:r,roadmapProgress:k,recentActivity:p,badges:b}=s;return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4 md:p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white mb-2",children:["Welcome back, ",i?.name?.split(" ")[0],"! üëã"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Here's your learning progress overview"})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:e.jsx(v,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.totalCompleted}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Topics Completed"})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:e.jsx(C,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[r.overallProgress,"%"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Overall Progress"})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center",children:e.jsx(S,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.currentStreak}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Day Streak üî•"})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center",children:e.jsx(A,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.badgeCount}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Badges Earned"})]})]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(m,{className:"w-5 h-5 text-[#00ADB5]"}),"Your Roadmaps"]}),e.jsxs(c,{to:"/dashboard/roadmaps",className:"text-sm text-[#00ADB5] hover:underline flex items-center gap-1",children:["View all",e.jsx(f,{className:"w-4 h-4"})]})]}),e.jsx("div",{className:"space-y-4",children:k.filter(a=>a.roadmap).map((a,n)=>e.jsx(c,{to:`/dashboard/roadmaps/${a.roadmap.slug}`,className:"block",children:e.jsx(t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*n},className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-2xl flex-shrink-0",style:{background:`${a.roadmap.color}20`},children:a.roadmap.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white truncate",children:a.roadmap.title}),e.jsxs("span",{className:"text-sm font-medium ml-2",style:{color:a.roadmap.color},children:[a.progressPercent,"%"]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400 mb-2",children:[e.jsxs("span",{children:[a.completedTopics," / ",a.totalTopics," topics"]}),e.jsx("span",{children:"‚Ä¢"}),e.jsxs("span",{children:["Last accessed ",new Date(a.lastAccessedAt).toLocaleDateString()]})]}),e.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-600 rounded-full overflow-hidden",children:e.jsx(t.div,{initial:{width:0},animate:{width:`${a.progressPercent}%`},transition:{duration:.5,delay:.1*n},className:"h-full rounded-full",style:{background:a.roadmap.color}})})]}),e.jsx(f,{className:"w-5 h-5 text-gray-400 flex-shrink-0"})]})})},a.roadmap._id))})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5 text-green-500"}),"Recent Activity"]}),p.length===0?e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No recent activity. Start learning to see your progress here!"}):e.jsx("div",{className:"space-y-3",children:p.slice(0,5).map((a,n)=>{const j=u[a.phase]||u.beginner;return e.jsxs(t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*n},className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-sm",style:{background:`${j.color}20`},children:j.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:['Completed "',a.topicTitle,'"']}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.roadmapTitle})]}),e.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:M(new Date(a.completedAt))})]},`${a.topicId}-${n}`)})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(D,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold",children:r.currentStreak}),e.jsx("p",{className:"text-white/80 text-sm",children:"Day Streak"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-white/80",children:"Longest streak"}),e.jsxs("span",{className:"font-medium",children:[r.longestStreak," days"]})]}),e.jsx("p",{className:"mt-4 text-sm text-white/80",children:r.currentStreak>0?"Keep it up! Complete a topic daily to maintain your streak.":"Start learning today to begin your streak!"})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(T,{className:"w-5 h-5 text-yellow-500"}),"Badges"]}),b.length===0?e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4 text-sm",children:"Complete topics to earn badges!"}):e.jsx("div",{className:"grid grid-cols-3 gap-3",children:b.map((a,n)=>e.jsxs(t.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1*n},className:"text-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",title:a.name,children:[e.jsx("span",{className:"text-2xl block mb-1",children:$[a.id]||"üèÖ"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:a.name})]},a.id))}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Next badge at:"}),e.jsxs("div",{className:"space-y-2",children:[r.totalCompleted<10&&e.jsx(h,{name:"Consistent Learner",current:r.totalCompleted,target:10}),r.totalCompleted>=10&&r.totalCompleted<25&&e.jsx(h,{name:"Knowledge Seeker",current:r.totalCompleted,target:25}),r.currentStreak<7&&e.jsx(h,{name:"Week Warrior",current:r.currentStreak,target:7,unit:"days"})]})]})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{to:"/dashboard/roadmaps",className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(m,{className:"w-5 h-5 text-[#00ADB5]"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Browse Roadmaps"})]}),e.jsxs(c,{to:"/dashboard/interview-prep",className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(B,{className:"w-5 h-5 text-purple-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Interview Prep"})]}),e.jsxs(c,{to:"/dashboard/careers",className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[e.jsx(N,{className:"w-5 h-5 text-green-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Career Info"})]})]})]})]})]})]})})}function h({name:i,current:d,target:s,unit:l="topics"}){const o=Math.min(Math.round(d/s*100),100);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:i}),e.jsxs("span",{className:"text-gray-500",children:[d,"/",s," ",l]})]}),e.jsx("div",{className:"h-1.5 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-yellow-500 rounded-full transition-all",style:{width:`${o}%`}})})]})}function M(i){const s=new Date().getTime()-i.getTime(),l=Math.floor(s/6e4),o=Math.floor(s/36e5),x=Math.floor(s/864e5);return l<1?"Just now":l<60?`${l}m ago`:o<24?`${o}h ago`:x<7?`${x}d ago`:i.toLocaleDateString()}export{W as default};
