import{q as a}from"./index-Do6L6L7r.js";const i=async t=>{try{const e=new URLSearchParams;return await a(`/marketplace?${e.toString()}`)}catch(e){throw console.error("Error getting marketplace listings:",e),e}},p=async t=>{try{const r=(await a(`/marketplace/${t}`)).listing;return r&&{...r,id:r.id||r._id,createdAt:new Date(r.createdAt),updatedAt:new Date(r.updatedAt)}}catch(e){throw console.error("Error getting listing:",e),e}},u=async t=>{try{return(await a("/marketplace",{method:"POST",body:JSON.stringify(t)})).listing}catch(e){throw console.error("Error creating listing:",e),e}},g=async(t,e)=>{try{return(await a(`/marketplace/${t}`,{method:"PUT",body:JSON.stringify(e)})).listing}catch(r){throw console.error("Error updating listing:",r),r}},l=async t=>{try{await a(`/marketplace/${t}`,{method:"DELETE"})}catch(e){throw console.error("Error deleting listing:",e),e}},h=async()=>{try{console.log("Fetching all marketplace projects...");const t=await a("/marketplace/all");return console.log("Marketplace all response:",t),(t.projects||[]).map(r=>({...r,id:r.id||r._id,createdAt:new Date(r.createdAt),updatedAt:new Date(r.updatedAt)}))}catch(t){return console.error("Error getting marketplace projects:",t),[]}},y=async t=>{try{await a(`/marketplace/approve/${t}`,{method:"POST"})}catch(e){throw console.error("Error approving marketplace project:",e),e}},w=async(t,e)=>{try{await a(`/marketplace/reject/${t}`,{method:"POST",body:JSON.stringify({reason:e})})}catch(r){throw console.error("Error rejecting marketplace project:",r),r}},m=p,k=l,A=async()=>((await i()).listings||[]).map(r=>({...r,id:r.id||r._id,createdAt:new Date(r.createdAt),updatedAt:new Date(r.updatedAt)})),j=async t=>{try{const e=await a(`/marketplace/seller/${t}/projects`);return(e.listings||e.projects||[]).map(s=>({...s,id:s.id||s._id,createdAt:new Date(s.createdAt),updatedAt:new Date(s.updatedAt)}))}catch(e){return console.error("Error getting seller projects:",e),[]}},P=async t=>{try{return((await a(`/marketplace/seller/${t}/sales`)).sales||[]).map(s=>({...s,id:s.id||s._id,purchasedAt:new Date(s.purchasedAt)}))}catch(e){return console.error("Error getting seller sales:",e),[]}},E=async t=>{try{return((await a(`/marketplace/user/${t}/purchases`)).purchases||[]).map(s=>({...s,id:s.id||s._id,purchasedAt:new Date(s.purchasedAt)}))}catch(e){return console.error("Error getting user purchases:",e),[]}},S=async(t,e)=>{try{return(await a(`/marketplace/projects/${e}/purchased?userId=${t}`)).purchased||!1}catch(r){return console.error("Error checking purchase status:",r),!1}},$=async(t,e,r,s)=>{try{return(await a(`/marketplace/projects/${t}/purchase`,{method:"POST",body:JSON.stringify({buyerId:r,buyerName:s})})).purchase}catch(o){throw console.error("Error creating purchase:",o),o}},v=async(t,e,r,s,o,n)=>{try{return(await a(`/marketplace/projects/${t}/reviews`,{method:"POST",body:JSON.stringify({buyerId:e,buyerName:r,buyerAvatar:s,rating:o,comment:n})})).review}catch(c){throw console.error("Error creating review:",c),c}},D=async t=>{try{return((await a(`/marketplace/projects/${t}/reviews`)).reviews||[]).map(s=>({...s,id:s.id||s._id,createdAt:new Date(s.createdAt)}))}catch(e){return console.error("Error getting reviews:",e),[]}},b=async t=>{try{await a(`/marketplace/projects/${t}/views`,{method:"POST"})}catch(e){console.error("Error incrementing views:",e)}};export{y as a,A as b,m as c,D as d,S as e,$ as f,h as g,v as h,b as i,p as j,u as k,j as l,P as m,k as n,E as o,w as r,g as u};
