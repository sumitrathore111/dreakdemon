import{c as Le,t as f,k as Sr,m as Dr,r as m,K as h,j as e,N as y,p as he,h as Cr,B as Ye,o as Re,w as K,O as Ar,X as ne,M as X,E as Ir,g as Rr}from"./index-D45Fyz-J.js";import{C as ze}from"./CustomSelect-dv5HmRs4.js";import{i as Be,g as T}from"./socketService-BG6E60ON.js";import{S as Q}from"./star-DK40_w0O.js";import{C as Me}from"./circle-alert-tviR6dvw.js";import{S as Ve}from"./send-Bjv5xmjb.js";import{U as Br}from"./user-minus-BV5b6e-A.js";import{P as Z}from"./plus-MuQOquPz.js";import{T as Te}from"./trash-2-q77gk4ch.js";import"./chevron-down-BtXszROS.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]],Tr=Le("bookmark-plus",Mr);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Lr=Le("heart",$r);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],qr=Le("share-2",Er),Or=async a=>{try{const d=new URLSearchParams;return a&&Object.entries(a).forEach(([B,G])=>{G!==void 0&&d.append(B,G.toString())}),(await f(`/study-groups?${d.toString()}`)).groups}catch(d){return console.error("Error getting study groups:",d),[]}},ie=Or,Ur=async a=>{try{return(await f("/study-groups",{method:"POST",body:JSON.stringify(a)})).group}catch(d){throw console.error("Error creating study group:",d),d}},Pr=async a=>{try{await f(`/study-groups/${a}`,{method:"DELETE"})}catch(d){throw console.error("Error deleting study group:",d),d}},Gr=async(a,d,w)=>{try{return await f(`/study-groups/${a}/join`,{method:"POST",body:JSON.stringify({userName:d,userAvatar:w})})}catch(B){throw console.error("Error requesting to join study group:",B),B}},Fr=async(a,d)=>{try{return(await f(`/study-groups/${a}/approve/${d}`,{method:"POST"})).group}catch(w){throw console.error("Error approving join request:",w),w}},Jr=async(a,d)=>{try{return(await f(`/study-groups/${a}/reject/${d}`,{method:"POST"})).group}catch(w){throw console.error("Error rejecting join request:",w),w}},Hr=async(a,d)=>{try{return(await f(`/study-groups/${a}/members/${d}`,{method:"DELETE"})).group}catch(w){throw console.error("Error removing member:",w),w}},ue=a=>{if(!a)return"Unknown date";try{if(a?.toDate&&typeof a.toDate=="function")return a.toDate().toLocaleDateString();if(a?.seconds)return new Date(a.seconds*1e3).toLocaleDateString();const d=new Date(a);return isNaN(d.getTime())?"Unknown date":d.toLocaleDateString()}catch{return"Unknown date"}},$e=(a,d)=>a?.avatar&&a.avatar.trim()!==""?a.avatar:a?.avatrUrl&&a.avatrUrl.trim()!==""?a.avatrUrl:a?.profilePic&&a.profilePic.trim()!==""?a.profilePic:`https://api.dicebear.com/9.x/adventurer/svg?seed=${d||"default"}`;function rt(){const{user:a}=Sr(),{userprofile:d}=Dr(),[w,B]=m.useState("directory"),[G,Ke]=m.useState(""),[F,de]=m.useState([]),[pe,Xe]=m.useState(""),[v,ye]=m.useState(null),[C,Ee]=m.useState(null),[L,J]=m.useState([]),[$,be]=m.useState(""),[Qe,ce]=m.useState(!1),[E,qe]=m.useState([]),[Ze,Oe]=m.useState(!0),[Ue,fe]=m.useState(null),[we,je]=m.useState([]),[Ne,er]=m.useState(12),[Pe,k]=m.useState([]),[q,Ge]=m.useState(""),[rr,ge]=m.useState(!1),[S,H]=m.useState({name:"",description:"",topic:"",level:"Beginner",maxMembers:10}),[tr,O]=m.useState([]),[sr,W]=m.useState([]),[ar,ee]=m.useState(!1),[lr,re]=m.useState(!1),[_,Fe]=m.useState("reviews"),[U,or]=m.useState(""),[b,M]=m.useState({website:"",url:"",category:"",rating:5,title:"",content:"",pros:"",cons:""}),[A,me]=m.useState({title:"",description:"",tags:""}),[nr,Y]=m.useState(!1),[j,P]=m.useState(null),[xe,te]=m.useState(""),ir=["Coding Practice","Web Development","Mobile Development","Data Science","DevOps","UI/UX","Algorithms","System Design","Interview Prep","Other"],[g,D]=m.useState(null),[se,ae]=m.useState(""),[Je,I]=m.useState([]),He=m.useRef(null),le=m.useRef(null),[R,ve]=m.useState(!1),[We,ke]=m.useState(null),[z,dr]=m.useState({}),[cr,Se]=m.useState({}),[oe,De]=m.useState(new Set),gr=()=>{He.current?.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{gr()},[L]),m.useEffect(()=>{Be();const r=T();if(r){ve(r.connected);const s=()=>{console.log("ðŸŸ¢ Socket connected"),ve(!0),a?.id&&r.emit("userOnline",{userId:a.id})},l=()=>{console.log("ðŸ”´ Socket disconnected"),ve(!1)},t=i=>{console.log("ðŸ‘¥ Online users:",i),De(new Set(i))},c=i=>{console.log("ðŸŸ¢ User online:",i.userId),De(x=>new Set([...x,i.userId]))},u=i=>{console.log("ðŸ”´ User offline:",i.userId),De(x=>{const N=new Set(x);return N.delete(i.userId),N})},o=i=>{i.chatId===C&&i.userId!==a?.id&&(ke(i.userName),le.current&&clearTimeout(le.current),le.current=setTimeout(()=>ke(null),3e3))},p=i=>{i.chatId===C&&i.userId!==a?.id&&ke(null)},n=i=>{i.readBy!==a?.id&&Se(x=>({...x,[i.messageId]:"read"}))};return r.on("connect",s),r.on("disconnect",l),r.on("userTyping",o),r.on("userStopTyping",p),r.on("messageRead",n),r.on("onlineUsers",t),r.on("userOnline",c),r.on("userOffline",u),r.emit("getOnlineUsers"),()=>{r.off("connect",s),r.off("disconnect",l),r.off("userTyping",o),r.off("userStopTyping",p),r.off("messageRead",n),r.off("onlineUsers",t),r.off("userOnline",c),r.off("userOffline",u),le.current&&clearTimeout(le.current)}}},[C,a?.id]),m.useEffect(()=>{(async()=>{try{Oe(!0),fe(null);const s=await f("/developers/init/page-data");console.log("Developer Connect data loaded:",s),qe(s.developers||[]),k(s.studyGroups||[]),O(s.techReviews||[]),W(s.helpRequests||[]),(!s.developers||s.developers.length===0)&&fe("No developers found. The community is waiting for you!")}catch(s){console.error("Error loading Developer Connect data:",s);try{const[l,t,c,u]=await Promise.all([f("/developers").catch(()=>[]),f("/study-groups").catch(()=>({groups:[]})),f("/developers/tech-reviews").catch(()=>({reviews:[]})),f("/developers/help-requests").catch(()=>({requests:[]}))]);qe(l||[]),k(t.groups||[]),O(c.reviews||[]),W(u.requests||[])}catch{fe("Failed to load developers: "+(s instanceof Error?s.message:String(s)))}}finally{Oe(!1)}})()},[]),m.useEffect(()=>{if(!v||!a){J([]),Ee(null);return}let r=!0,s=null;return(async()=>{console.log("Setting up chat for:",a.id,v),ce(!0);try{const t=E.find(o=>o.userId===v);if(!t){console.error("Selected developer not found"),ce(!1);return}const c=await f("/chats",{method:"POST",body:JSON.stringify({participantIds:[a.id,v],participantNames:[d?.displayName||a.name||"User",t.name],participantAvatars:[d?.avatrUrl||"",t.avatar]})});if(!r)return;Ee(c.id),s=c.id,console.log("Chat ID obtained:",c.id);const u=await f(`/chats/${c.id}/messages`);r&&J(u),ce(!1);try{Be();const o=T();if(o){o.emit("join-chat",c.id),console.log("ðŸ“¡ Joined chat room:",c.id);const p=n=>{console.log("ðŸ“© Received new message:",n),n.chatId===c.id&&r&&J(i=>i.some(N=>N.id===n.id)?i:[...i,n])};o.on("newMessage",p),o._chatMessageHandler=p}}catch(o){console.warn("Socket init failed, falling back to polling:",o)}}catch(t){console.error("Error setting up chat:",t),r&&ce(!1)}})(),()=>{r=!1;try{const t=T();if(t&&t.connected&&s){t.emit("leave-chat",s);const c=t._chatMessageHandler;c&&t.off("newMessage",c),delete t._chatMessageHandler}}catch{}}},[v,a?.id,E,d]),m.useEffect(()=>{if(!a||w!=="messages"){je([]);return}(async()=>{try{const l=(await f("/chats")||[]).map(t=>({participantId:t.participantId,participantName:t.participantName,participantAvatar:t.participantAvatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.participantName?.replace(/\s+/g,"")}`,lastMessage:t.lastMessage,lastMessageAt:t.lastMessageAt}));je(l)}catch(s){console.warn("Could not load conversations yet:",s),je([])}})()},[a?.id,w]),m.useEffect(()=>{if(a)try{Be();const r=T();if(!r)return;r.emit("join-user",a.id);const s=n=>{console.log("New join request:",n),g&&g.id===n.groupId&&D(i=>{if(!i)return i;const x=i.joinRequests||[];return x.some(N=>N.userId===n.request.userId)?i:{...i,joinRequests:[...x,n.request]}}),h.success(`${n.request.userName} requested to join your group!`)},l=n=>{console.log("Request approved:",n),h.success(`You've been approved to join ${n.groupName}!`),n.group&&(k(i=>i.map(x=>x.id===n.groupId?n.group:x)),g&&g.id===n.groupId&&D(n.group))},t=n=>{console.log("Request rejected:",n),h.error(`Your request to join ${n.groupName} was rejected.`),g&&g.id===n.groupId&&D(i=>i&&{...i,joinRequests:i.joinRequests?.filter(x=>x.userId!==a.id)||[]})},c=n=>{console.log("Member joined:",n),h.success(`${n.member.name} has joined the group!`),n.group&&(k(i=>i.map(x=>x.id===n.groupId?n.group:x)),g&&g.id===n.groupId&&D(n.group))},u=n=>{console.log("Removed from group:",n),h.error(`You've been removed from ${n.groupName}`),g&&g.id===n.groupId&&D(null),k(i=>i.filter(x=>x.id!==n.groupId))},o=n=>{console.log("Member removed:",n),n.group&&(k(i=>i.map(x=>x.id===n.groupId?n.group:x)),g&&g.id===n.groupId&&D(n.group))},p=n=>{console.log("Group updated:",n),n.group&&(k(i=>i.map(x=>x.id===n.groupId?n.group:x)),g&&g.id===n.groupId&&D(n.group))};return r.on("joinRequest",s),r.on("requestApproved",l),r.on("requestRejected",t),r.on("memberJoined",c),r.on("removedFromGroup",u),r.on("memberRemoved",o),r.on("groupUpdated",p),()=>{r.emit("leave-user",a.id),r.off("joinRequest",s),r.off("requestApproved",l),r.off("requestRejected",t),r.off("memberJoined",c),r.off("removedFromGroup",u),r.off("memberRemoved",o),r.off("groupUpdated",p)}}catch(r){console.warn("Socket initialization failed for study groups:",r)}},[a?.id,g?.id]),m.useEffect(()=>{if(!(!g||!a))try{const r=T();return r&&r.emit("join-group",g.id),()=>{r&&r.emit("leave-group",g.id)}}catch(r){console.warn("Could not join group socket room:",r)}},[g?.id,a]),m.useEffect(()=>{if(!g||!a){I([]);return}(async()=>{try{const s=await f(`/study-groups/${g.id}/messages`);I(s.messages||[])}catch(s){console.warn("Could not load group messages:",s),I([])}})();try{const s=T();if(s){const l=t=>{t.groupId===g.id&&t.message&&I(c=>c.some(u=>u.id===t.message.id)?c:[...c,t.message])};return s.on("newGroupMessage",l),()=>{s.off("newGroupMessage",l)}}}catch(s){console.warn("Socket not available for group messages:",s)}},[g?.id,a]);const V=E.filter(r=>{const s=r.skills||[],l=r.lookingFor||"",t=(r.name||"").toLowerCase().includes(G.toLowerCase())||s.some(o=>o.toLowerCase().includes(G.toLowerCase())),c=F.length===0||F.some(o=>s.includes(o)),u=!pe||l.includes(pe);return t&&c&&u}),_e=V.slice(0,Ne),mr=V.length>Ne,xr=["React","Node.js","Python","Java","MongoDB","TypeScript","AWS","Machine Learning"],hr=()=>Ze?e.jsx("div",{className:"space-y-6",children:[1,2,3,4,5,6].map(r=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 animate-pulse",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-300 dark:bg-gray-700 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded mb-2 w-1/2"}),e.jsx("div",{className:"h-3 bg-gray-300 dark:bg-gray-700 rounded w-1/3"})]})]}),e.jsx("div",{className:"h-10 bg-gray-300 dark:bg-gray-700 rounded mb-4"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-10 bg-gray-300 dark:bg-gray-700 rounded flex-1"}),e.jsx("div",{className:"h-10 bg-gray-300 dark:bg-gray-700 rounded flex-1"})]})]},r))}):Ue?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-xl p-8 border border-red-200 dark:border-red-800",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(Me,{className:"w-6 h-6 text-red-600 dark:text-red-400 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-red-900 dark:text-red-300 mb-2",children:"Unable to Load Developers"}),e.jsx("p",{className:"text-red-700 dark:text-red-400",children:Ue}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Retry"})]})]})}):E.length===0?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-12 border border-gray-200 dark:border-gray-700 text-center",children:[e.jsx(he,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Developers Yet"}),e.jsx("p",{className:"text-gray-600 dark:text-white mb-6",children:"Developers who complete their profiles will appear here. Invite your friends!"}),e.jsx("button",{className:"px-6 py-2 text-white rounded-lg transition-all shadow-lg hover:opacity-90",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:"Invite Friends"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 border border-gray-200 dark:border-gray-700 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Re,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("input",{type:"text",placeholder:"Search developers by name or skills...",value:G,onChange:r=>Ke(r.target.value),className:"w-full pl-9 sm:pl-10 pr-4 py-2 sm:py-3 text-sm sm:text-base border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#00ADB5] focus:bg-white dark:focus:bg-gray-600 transition-all"})]}),e.jsx(ze,{value:F.length>0?F[0]:"",onChange:r=>{de(r===""?[]:s=>s.includes(r)?s.filter(l=>l!==r):[r])},options:[{value:"",label:"All Skills"},...xr.map(r=>({value:r,label:r}))],className:"w-full sm:min-w-[180px] sm:w-auto"}),e.jsx(ze,{value:pe,onChange:r=>Xe(r),options:[{value:"",label:"Looking For"},{value:"Teammates",label:"Teammates"},{value:"Mentoring",label:"Mentoring"},{value:"Both",label:"Both"}],className:"w-full sm:min-w-[180px] sm:w-auto"})]}),F.length>0&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[F.map(r=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium text-white",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:[r,e.jsx("button",{onClick:()=>de(s=>s.filter(l=>l!==r)),className:"ml-1 hover:bg-white/20 rounded-full p-0.5",children:"Ã—"})]},r)),e.jsx("button",{onClick:()=>de([]),className:"px-3 py-1 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white",children:"Clear all"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-white",children:[e.jsxs("p",{children:["Showing ",_e.length," of ",V.length," developers"]}),V.length!==E.length&&e.jsxs("p",{children:[E.length," total in directory"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_e.map((r,s)=>e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.1},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("img",{src:r.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${r.name}`,alt:r.name||"Developer",className:"w-12 h-12 rounded-full"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:r.name||"Unknown"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-white",children:[r.institute||r.college||"Not specified"," â€¢ ",r.yearOfStudy?r.yearOfStudy===1?"1st Year":r.yearOfStudy===2?"2nd Year":r.yearOfStudy===3?"3rd Year":r.yearOfStudy===4?"4th Year":`${r.yearOfStudy} Year`:r.year||"Student"]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",style:{color:"#00ADB5"},children:[e.jsx(he,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-semibold",children:r.challenges_solved||r.codeArenaStats?.problemsSolved||0})]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-white mb-4 line-clamp-2",children:r.bio||"No bio available"}),e.jsx("div",{className:"rounded-lg p-3 mb-4",style:{background:"rgba(0, 173, 181, 0.1)"},children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-white",children:"Problems Solved"}),e.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:r.challenges_solved||r.codeArenaStats?.problemsSolved||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-white",children:"Rank"}),e.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:["#",r.marathon_rank||r.codeArenaStats?.rank||"N/A"]})]})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700 dark:text-white mb-2",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(r.skills||[]).length>0?e.jsxs(e.Fragment,{children:[(r.skills||[]).slice(0,3).map(l=>e.jsx("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:"rgba(0, 173, 181, 0.15)",color:"#00ADB5"},children:l},l)),(r.skills||[]).length>3&&e.jsxs("span",{className:"text-xs px-2 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-white rounded-full",children:["+",(r.skills||[]).length-3]})]}):e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"No skills added"})})]}),e.jsxs("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("p",{className:"text-xs font-semibold text-green-700 dark:text-green-400 mb-1",children:r.lookingFor||"Open to opportunities"}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-300 line-clamp-2",children:r.lookingForDetails||"Looking to connect with other developers"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs("button",{onClick:()=>{ye(r.userId),B("messages")},className:"flex-1 px-3 py-2 text-white text-sm font-semibold rounded-lg transition-all shadow-md hover:opacity-90 flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:[e.jsx(K,{className:"w-4 h-4"}),"Message"]}),e.jsxs("button",{onClick:()=>{B("reviews"),h.success("Check out reviews shared by the community!")},className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-white text-sm font-semibold rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Q,{className:"w-4 h-4"}),"Reviews"]})]})]},r.userId))}),mr&&e.jsx("div",{className:"text-center mt-8",children:e.jsxs("button",{onClick:()=>er(r=>r+12),className:"px-8 py-3 text-white rounded-lg transition-all shadow-lg hover:opacity-90 font-semibold",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:["Load More (",V.length-Ne," remaining)"]})}),V.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(he,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No developers found"}),e.jsx("p",{className:"text-gray-600 dark:text-white",children:"Try adjusting your filters"})]})]}),ur=()=>{const r=v?E.find(o=>o.userId===v):null,s=()=>{const o=T();o&&C&&a&&o.emit("typing",{chatId:C,userId:a.id,userName:d?.displayName||a.name||"User"})},l=()=>{const o=T();o&&C&&a&&o.emit("stopTyping",{chatId:C,userId:a.id})},t=()=>{const o=T();o&&C&&a&&(L.filter(n=>n.senderId!==a.id&&!n.isRead).forEach(n=>{o.emit("markAsRead",{messageId:n.id,chatId:C,readBy:a.id})}),v&&dr(n=>({...n,[v]:0})))};v&&L.length>0&&C&&setTimeout(()=>t(),100);const c=async()=>{if(!$.trim()||!a||!C)return;l();const o=$,p=`temp-${Date.now()}`;be(""),Se(i=>({...i,[p]:"sent"}));const n={id:p,senderId:a.id,senderName:d?.displayName||d?.name||a.name||"User",senderAvatar:d?.avatar||d?.avatrUrl||"",message:o,text:o,createdAt:new Date().toISOString(),timestamp:new Date,isRead:!1};J(i=>[...i,n]);try{const i=await f(`/chats/${C}/messages`,{method:"POST",body:JSON.stringify({senderId:a.id,senderName:d?.displayName||d?.name||a.name||"User",senderAvatar:d?.avatar||d?.avatrUrl||"",message:o})});i?.id&&(J(x=>x.map(N=>N.id===p?{...N,id:i.id}:N)),Se(x=>{const N={...x};return delete N[p],N[i.id]="delivered",N}))}catch(i){console.error("Error sending message:",i),be(o),J(x=>x.filter(N=>N.id!==p)),h.error("Failed to send message. Please try again.")}},u=o=>{be(o.target.value),o.target.value.trim()?s():l()};return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 h-[600px] lg:h-[650px]",children:[e.jsxs("div",{className:`lg:col-span-1 bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col shadow-lg ${v?"hidden lg:flex":"flex"}`,children:[e.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-cyan-50/50 via-white to-cyan-50/50 dark:from-gray-800 dark:via-gray-800 dark:to-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2 text-base",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:e.jsx(K,{className:"w-4 h-4 text-white"})}),"Chats"]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-10",children:[we.length," active"]})]}),e.jsxs(y.div,{initial:{scale:.9},animate:{scale:1},className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-[11px] font-semibold ${R?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400":"bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400"}`,children:[e.jsx(y.div,{animate:{scale:R?[1,1.4,1]:1},transition:{repeat:1/0,duration:1.5},className:`w-2 h-2 rounded-full ${R?"bg-emerald-500":"bg-amber-500"}`}),R?"Live":"Offline"]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:we.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-[#00ADB5]/10 to-[#00ADB5]/5 dark:from-[#00ADB5]/20 dark:to-[#00ADB5]/10 border border-[#00ADB5]/20 flex items-center justify-center mx-auto mb-4",children:e.jsx(K,{className:"w-8 h-8 text-[#00ADB5]"})}),e.jsx("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"No conversations yet"}),e.jsx("p",{className:"text-xs mt-2 text-gray-500 dark:text-gray-400",children:"Visit Developer Directory to start chatting"})]}):we.map(o=>e.jsxs(y.button,{whileHover:{x:4,backgroundColor:"rgba(0,173,181,0.05)"},whileTap:{scale:.99},onClick:()=>ye(o.participantId),className:`w-full p-4 transition-all text-left relative overflow-hidden ${v===o.participantId?"bg-gradient-to-r from-[#00ADB5]/10 to-transparent dark:from-[#00ADB5]/15 dark:to-transparent":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[v===o.participantId&&e.jsx(y.div,{layoutId:"selectedConv",className:"absolute left-0 top-0 bottom-0 w-1 rounded-r-full",style:{background:"linear-gradient(180deg, #00ADB5 0%, #00d4ff 100%)"}}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:o.participantAvatar,alt:o.participantName,className:`w-12 h-12 rounded-full shadow-md transition-all ${v===o.participantId?"ring-2 ring-[#00ADB5] ring-offset-2 dark:ring-offset-gray-800":"ring-1 ring-gray-200 dark:ring-gray-600"}`}),e.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 rounded-full border-2 border-white dark:border-gray-800 ${oe.has(o.participantId)?"bg-emerald-500":"bg-gray-400 dark:bg-gray-500"}`}),z[o.participantId]>0&&e.jsx(y.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -left-1 w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold text-white shadow-lg",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:z[o.participantId]>9?"9+":z[o.participantId]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[e.jsx("p",{className:`font-semibold truncate text-sm ${z[o.participantId]>0?"text-gray-900 dark:text-white font-bold":v===o.participantId?"text-[#00ADB5]":"text-gray-900 dark:text-white"}`,children:o.participantName}),o.lastMessageAt&&e.jsx("span",{className:`text-[10px] flex-shrink-0 ml-2 ${z[o.participantId]>0?"text-[#00ADB5] font-semibold":"text-gray-400 dark:text-gray-500"}`,children:new Date(o.lastMessageAt).toLocaleDateString([],{month:"short",day:"numeric"})})]}),e.jsx("p",{className:`text-xs truncate flex items-center gap-1 ${z[o.participantId]>0?"text-gray-700 dark:text-gray-200 font-medium":"text-gray-500 dark:text-gray-400"}`,children:o.lastMessage||e.jsx("span",{className:"italic text-gray-400",children:"Start a conversation..."})})]})]})]},o.participantId))})]}),e.jsx("div",{className:`lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 flex flex-col shadow-lg overflow-hidden ${v?"flex":"hidden lg:flex"}`,children:!v||!r?e.jsx("div",{className:"flex-1 flex items-center justify-center bg-gradient-to-br from-cyan-50/30 via-white to-cyan-50/30 dark:from-gray-800 dark:via-gray-800 dark:to-gray-800",children:e.jsxs(y.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.5,type:"spring"},className:"text-center p-8 max-w-md",children:[e.jsx(y.div,{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:3,ease:"easeInOut"},className:"w-28 h-28 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-2xl",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 50%, #00ADB5 100%)",backgroundSize:"200% 200%"},children:e.jsx(K,{className:"w-14 h-14 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"Start a Conversation"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 leading-relaxed",children:"Select a developer from the list to connect and collaborate in real-time"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-400 dark:text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Real-time chat"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-2 h-2 bg-[#00ADB5] rounded-full"}),"Instant delivery"]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>ye(null),className:"lg:hidden p-2 -ml-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.avatar,alt:r.name,className:"w-10 h-10 lg:w-11 lg:h-11 rounded-full ring-2 ring-[#00ADB5] ring-offset-2 dark:ring-offset-gray-800 shadow-md"}),e.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 rounded-full border-2 border-white dark:border-gray-800 ${oe.has(r.userId)?"bg-emerald-500":"bg-gray-400 dark:bg-gray-500"}`})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-base",children:r.name}),We?e.jsxs(y.p,{initial:{opacity:0},animate:{opacity:1},className:"text-xs text-[#00ADB5] font-medium flex items-center gap-1",children:[e.jsxs("span",{className:"flex gap-0.5",children:[e.jsx(y.span,{animate:{y:[0,-3,0]},transition:{repeat:1/0,duration:.6,delay:0},className:"w-1 h-1 bg-[#00ADB5] rounded-full"}),e.jsx(y.span,{animate:{y:[0,-3,0]},transition:{repeat:1/0,duration:.6,delay:.2},className:"w-1 h-1 bg-[#00ADB5] rounded-full"}),e.jsx(y.span,{animate:{y:[0,-3,0]},transition:{repeat:1/0,duration:.6,delay:.4},className:"w-1 h-1 bg-[#00ADB5] rounded-full"})]}),"typing..."]}):e.jsxs("p",{className:`text-xs flex items-center gap-1 ${oe.has(r.userId)?"text-emerald-600 dark:text-emerald-400":"text-gray-500 dark:text-gray-400"}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${oe.has(r.userId)?"bg-emerald-500":"bg-gray-400"}`}),oe.has(r.userId)?"Online":"Offline"]})]})]}),e.jsxs("div",{className:`hidden sm:flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium backdrop-blur-sm ${R?"bg-emerald-50/80 dark:bg-emerald-900/30 border border-emerald-200 dark:border-emerald-700":"bg-amber-50/80 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-700"}`,children:[e.jsx(y.div,{animate:{scale:R?[1,1.3,1]:1},transition:{repeat:1/0,duration:2},className:`w-2 h-2 rounded-full ${R?"bg-emerald-500":"bg-amber-500"}`}),e.jsx("span",{className:`${R?"text-emerald-700 dark:text-emerald-400":"text-amber-600 dark:text-amber-400"}`,children:R?"Live":"Connecting"})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-5 space-y-3 sm:space-y-4 bg-gray-50 dark:bg-gray-900",children:Qe?e.jsxs(y.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center h-full",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-200 dark:border-gray-700",style:{borderTopColor:"#00ADB5"}}),e.jsx(K,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-5 h-5 text-cyan-500"})]}),e.jsx("div",{className:"text-gray-500 text-sm mt-4",children:"Loading messages..."})]}):L.length===0?e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center h-full",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-[#00ADB5]/20 to-[#00ADB5]/10 dark:from-[#00ADB5]/20 dark:to-[#00ADB5]/10 flex items-center justify-center mb-4 border border-[#00ADB5]/20",children:e.jsx("span",{className:"text-4xl",children:"ðŸ‘‹"})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Start the conversation!"}),e.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:["Say hello to ",r?.name||"your new connection"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:"px-3 py-1 bg-white dark:bg-gray-800 rounded-full text-xs text-gray-500 dark:text-gray-400 border border-gray-200 dark:border-gray-700 shadow-sm",children:L[0]?.createdAt?new Date(L[0].createdAt).toLocaleDateString([],{weekday:"short",month:"short",day:"numeric"}):"Today"})}),L.map(o=>{const p=o.senderId===a?.id||o.senderId===a?.id?.toString()||o.userId===a?.id,n=cr[o.id]||(o.isRead?"read":"delivered");return e.jsxs(y.div,{initial:{opacity:0,y:15,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.25,type:"spring",stiffness:400,damping:25},className:`flex w-full ${p?"justify-end":"justify-start"}`,children:[!p&&e.jsx("img",{src:o.senderAvatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${o.senderName?.replace(/\s+/g,"")||"User"}`,alt:o.senderName||"User",className:"w-8 h-8 rounded-full flex-shrink-0 mr-2 shadow-md ring-2 ring-white dark:ring-gray-800"}),e.jsx("div",{className:`max-w-[70%] ${p?"mr-2":""}`,children:e.jsxs(y.div,{whileHover:{scale:1.01,y:-1},className:`px-4 py-2.5 relative group ${p?"rounded-2xl rounded-tr-md text-white":"rounded-2xl rounded-tl-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-100 dark:border-gray-600"}`,style:p?{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)",boxShadow:"0 4px 20px rgba(0, 173, 181, 0.25)"}:{boxShadow:"0 2px 12px rgba(0, 0, 0, 0.08)"},children:[e.jsx("p",{className:"text-sm leading-relaxed",children:o.message||o.content||o.text}),e.jsxs("div",{className:`flex items-center gap-1 mt-1 ${p?"justify-end":""}`,children:[e.jsx("p",{className:`text-[10px] ${p?"text-cyan-100":"text-gray-400"}`,children:o.createdAt?new Date(o.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):new Date(o.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),p&&e.jsx("span",{className:"text-[10px] text-cyan-100 ml-1",children:n==="read"?e.jsx("span",{title:"Read",children:"âœ“âœ“"}):n==="delivered"?e.jsx("span",{title:"Delivered",className:"opacity-70",children:"âœ“âœ“"}):e.jsx("span",{title:"Sent",className:"opacity-50",children:"âœ“"})})]})]})}),p&&e.jsx("img",{src:d?.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${a?.name?.replace(/\s+/g,"")||"Me"}`,alt:"Me",className:"w-8 h-8 rounded-full flex-shrink-0 ml-2 shadow-md ring-2 ring-white dark:ring-gray-800"})]},o.id)}),e.jsx("div",{ref:He}),We&&e.jsx(y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"flex items-center gap-2 pl-10",children:e.jsx("div",{className:"px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl rounded-tl-md shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(y.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:0},className:"w-2 h-2 bg-[#00ADB5] rounded-full"}),e.jsx(y.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:.2},className:"w-2 h-2 bg-[#00ADB5] rounded-full"}),e.jsx(y.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:.4},className:"w-2 h-2 bg-[#00ADB5] rounded-full"})]})})})]})}),e.jsxs("div",{className:"p-3 sm:p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[$.trim()&&e.jsx(y.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"text-[11px] text-[#00ADB5] mb-2 ml-2 hidden sm:block",children:"Press Enter to send"}),e.jsxs("div",{className:"flex gap-2 sm:gap-3 items-center bg-gray-50 dark:bg-gray-900 rounded-2xl p-1.5 sm:p-2 shadow-sm border border-gray-200 dark:border-gray-700 transition-all focus-within:border-[#00ADB5] focus-within:ring-2 focus-within:ring-[#00ADB5]/20",children:[e.jsx("button",{className:"hidden sm:flex p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("input",{type:"text",placeholder:"Type a message...",value:$,onChange:u,onKeyPress:o=>{o.key==="Enter"&&$.trim()&&c()},onBlur:()=>l(),className:"flex-1 px-2 py-2 bg-transparent text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none text-sm"}),e.jsx("button",{className:"hidden sm:flex p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),e.jsx(y.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,disabled:!$.trim(),className:`p-2.5 rounded-xl transition-all ${$.trim()?"text-white shadow-lg":"text-gray-400 bg-gray-100 dark:bg-gray-800"}`,style:$.trim()?{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)",boxShadow:"0 4px 12px rgba(0, 173, 181, 0.4)"}:{},children:e.jsx(Ve,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"hidden sm:flex items-center justify-center gap-2 mt-2",children:R?e.jsxs("p",{className:"text-[10px] text-gray-400 flex items-center gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),"Real-time messaging active"]}):e.jsxs("p",{className:"text-[10px] text-amber-500 flex items-center gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full"}),"Connecting to real-time..."]})})]})]})})]})},pr=()=>{if(g){const r=g.members?.some(t=>t.userId===a?.id),s=g.members?.some(t=>t.userId===a?.id&&(t.role==="admin"||t.role==="creator")),l=g.joinRequests?.some(t=>t.userId===a?.id&&t.status==="pending");return e.jsxs("div",{className:"space-y-6",children:[e.jsx("button",{onClick:()=>D(null),className:"font-semibold flex items-center gap-2 transition-colors",style:{color:"#00ADB5"},onMouseEnter:t=>t.currentTarget.style.opacity="0.8",onMouseLeave:t=>t.currentTarget.style.opacity="1",children:"â† Back to Groups"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:g.name}),e.jsx("p",{className:"text-gray-600 dark:text-white",children:g.description})]}),e.jsx("span",{className:`text-xs px-3 py-1 rounded-full ${g.level==="Beginner"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":g.level==="Intermediate"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:g.level})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("span",{className:"text-sm px-3 py-1 rounded-full",style:{backgroundColor:"rgba(0, 173, 181, 0.15)",color:"#00ADB5"},children:g.topic}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-white",children:[g.members?.length||0," / ",g.maxMembers," members"]})]}),s&&g.joinRequests?.length>0&&e.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[e.jsxs("h3",{className:"font-semibold text-yellow-800 dark:text-yellow-300 mb-3 flex items-center gap-2",children:[e.jsx(Me,{className:"w-5 h-5"}),"Pending Join Requests (",g.joinRequests.length,")"]}),e.jsx("div",{className:"space-y-3",children:g.joinRequests.map(t=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsx("img",{src:t.userAvatar||`https://api.dicebear.com/9.x/adventurer/svg?seed=${t.userName}`,alt:t.userName,className:"w-10 h-10 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:t.userName}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Requested ",new Date(t.requestedAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:async()=>{try{const c=await Fr(g.id,t.userId);D(c);const u=await ie();k(u),h.success(`${t.userName} has been approved!`)}catch(c){h.error(c?.message||"Failed to approve request")}},className:"p-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors",title:"Approve",children:e.jsx(Ar,{className:"w-4 h-4"})}),e.jsx("button",{onClick:async()=>{try{const c=await Jr(g.id,t.userId);D(c),h.success(`Request from ${t.userName} has been rejected`)}catch(c){h.error(c?.message||"Failed to reject request")}},className:"p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",title:"Reject",children:e.jsx(ne,{className:"w-4 h-4"})})]})]},t.userId))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Members"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:g.members?.map(t=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[e.jsx("img",{src:t.avatar||`https://api.dicebear.com/9.x/adventurer/svg?seed=${t.name}`,alt:t.name,className:"w-10 h-10 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-white",children:t.role==="creator"?"ðŸ‘‘ Creator":t.role==="admin"?"â­ Admin":"Member"})]}),s&&t.role!=="creator"&&t.userId!==a?.id&&e.jsx("button",{onClick:async()=>{if(window.confirm(`Remove ${t.name} from the group?`))try{const c=await Hr(g.id,t.userId);D(c);const u=await ie();k(u),h.success(`${t.name} has been removed from the group`)}catch(c){h.error(c?.message||"Failed to remove member")}},className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Remove member",children:e.jsx(Br,{className:"w-4 h-4"})})]},t.userId))})]}),r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5"}),"Group Discussion"]}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4 mb-4 h-64 overflow-y-auto",children:Je.length===0?e.jsx("p",{className:"text-gray-500 text-center text-sm py-8",children:"No messages yet. Start the conversation!"}):e.jsx("div",{className:"space-y-3",children:Je.map((t,c)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("img",{src:t.avatar||t.senderAvatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${t.name||t.senderName}`,alt:t.name||t.senderName,className:"w-8 h-8 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-semibold text-sm text-gray-900 dark:text-white",children:t.name||t.senderName}),e.jsx("span",{className:"text-xs text-gray-400",children:t.timestamp?new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"now"})]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-white",children:t.message})]})]},t.id||c))})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:se,onChange:t=>ae(t.target.value),onKeyPress:async t=>{if(t.key==="Enter"&&se.trim()){const c=se.trim(),u=d?.displayName||d?.name||a?.name||"User",o=d?.avatar||d?.avatrUrl||"",p=`temp-${Date.now()}`,n={id:p,name:u,senderName:u,avatar:o,senderAvatar:o,message:c,timestamp:new Date().toISOString()};I(i=>[...i,n]),ae("");try{const i=await f(`/study-groups/${g.id}/messages`,{method:"POST",body:JSON.stringify({message:c,senderName:u,senderAvatar:o})});i.message&&I(x=>x.map(N=>N.id===p?i.message:N))}catch(i){console.error("Error sending group message:",i),I(x=>x.filter(N=>N.id!==p)),ae(c),h.error("Failed to send message")}}},placeholder:"Type a message...",className:"flex-1 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-cyan-500 focus:outline-none"}),e.jsx("button",{onClick:async()=>{if(se.trim()){const t=se.trim(),c=d?.displayName||d?.name||a?.name||"User",u=d?.avatar||d?.avatrUrl||"",o=`temp-${Date.now()}`,p={id:o,name:c,senderName:c,avatar:u,senderAvatar:u,message:t,timestamp:new Date().toISOString()};I(n=>[...n,p]),ae("");try{const n=await f(`/study-groups/${g.id}/messages`,{method:"POST",body:JSON.stringify({message:t,senderName:c,senderAvatar:u})});n.message&&I(i=>i.map(x=>x.id===o?n.message:x))}catch(n){console.error("Error sending group message:",n),I(i=>i.filter(x=>x.id!==o)),ae(t),h.error("Failed to send message")}}},className:"px-4 py-2 text-white rounded-lg transition-all shadow-md hover:opacity-90",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:e.jsx(Ve,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mt-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Resources & Schedule"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg transition-colors text-gray-600 dark:text-white",onMouseEnter:t=>{t.currentTarget.style.borderColor="#00ADB5",t.currentTarget.style.backgroundColor="rgba(0, 173, 181, 0.1)",t.currentTarget.style.color="#00ADB5"},onMouseLeave:t=>{t.currentTarget.style.borderColor="",t.currentTarget.style.backgroundColor="",t.currentTarget.style.color=""},children:[e.jsx(Z,{className:"w-6 h-6 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-semibold",children:"Share Resource"})]}),e.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg transition-colors text-gray-600 dark:text-white",onMouseEnter:t=>{t.currentTarget.style.borderColor="#00ADB5",t.currentTarget.style.backgroundColor="rgba(0, 173, 181, 0.1)",t.currentTarget.style.color="#00ADB5"},onMouseLeave:t=>{t.currentTarget.style.borderColor="",t.currentTarget.style.backgroundColor="",t.currentTarget.style.color=""},children:[e.jsx(Z,{className:"w-6 h-6 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-semibold",children:"Schedule Session"})]}),e.jsxs("button",{className:"p-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg transition-colors text-gray-600 dark:text-white",onMouseEnter:t=>{t.currentTarget.style.borderColor="#00ADB5",t.currentTarget.style.backgroundColor="rgba(0, 173, 181, 0.1)",t.currentTarget.style.color="#00ADB5"},onMouseLeave:t=>{t.currentTarget.style.borderColor="",t.currentTarget.style.backgroundColor="",t.currentTarget.style.color=""},children:[e.jsx(Z,{className:"w-6 h-6 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-semibold",children:"Set Goal"})]})]})]})]}):e.jsx("div",{className:"text-center py-8 border-t border-gray-200 dark:border-gray-700",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center",children:e.jsx(Me,{className:"w-8 h-8 text-yellow-600 dark:text-yellow-400"})}),e.jsx("p",{className:"text-gray-600 dark:text-white mb-2 font-semibold",children:"Request Pending"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Waiting for the group owner to approve your request"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-600 dark:text-white mb-4",children:"Request to join this group and get approval from the owner"}),e.jsx("button",{onClick:async()=>{if(a)try{const t=d?.displayName||a.name||"User",c=d?.avatrUrl||"",u=await Gr(g.id,t,c);if(u.group){D(u.group);const o=await ie();k(o)}h.success(u.message||"Join request sent! Waiting for approval.")}catch(t){console.error("Error requesting to join group:",t),h.error(t?.message||"Failed to send join request. Please try again.")}},disabled:g.members?.length>=g.maxMembers,className:"px-6 py-2 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:opacity-90",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:"Request to Join"})]})})]})]})}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Study Groups"}),e.jsxs("div",{className:"relative flex-1 max-w-md mx-0 sm:mx-4",children:[e.jsx(Re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:q,onChange:r=>Ge(r.target.value),placeholder:"Search groups...",className:"w-full pl-10 pr-10 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all"}),q&&e.jsx("button",{onClick:()=>Ge(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(ne,{className:"w-4 h-4"})})]}),e.jsxs("button",{onClick:()=>ge(!0),className:"px-4 py-2 text-white rounded-lg transition-all shadow-lg hover:opacity-90 flex items-center gap-2 whitespace-nowrap",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:[e.jsx(Z,{className:"w-5 h-5"}),"Create Group"]})]}),rr&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Create Study Group"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-white mb-1",children:"Group Name"}),e.jsx("input",{type:"text",value:S.name,onChange:r=>H({...S,name:r.target.value}),placeholder:"DSA Interview Prep",className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-white mb-1",children:"Description"}),e.jsx("textarea",{value:S.description,onChange:r=>H({...S,description:r.target.value}),placeholder:"Daily DSA practice and mock interviews",rows:3,className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-white mb-1",children:"Topic"}),e.jsxs("select",{value:S.topic,onChange:r=>H({...S,topic:r.target.value}),className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Select Topic"}),e.jsx("option",{value:"DSA",children:"Data Structures & Algorithms"}),e.jsx("option",{value:"Web Dev",children:"Web Development"}),e.jsx("option",{value:"Mobile",children:"Mobile Development"}),e.jsx("option",{value:"AI/ML",children:"AI & Machine Learning"}),e.jsx("option",{value:"System Design",children:"System Design"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-white mb-1",children:"Level"}),e.jsxs("select",{value:S.level,onChange:r=>H({...S,level:r.target.value}),className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white",children:[e.jsx("option",{value:"Beginner",children:"Beginner"}),e.jsx("option",{value:"Intermediate",children:"Intermediate"}),e.jsx("option",{value:"Advanced",children:"Advanced"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-white mb-1",children:"Max Members"}),e.jsx("input",{type:"number",value:S.maxMembers,onChange:r=>H({...S,maxMembers:parseInt(r.target.value)}),min:"2",max:"50",className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:async()=>{if(S.name&&S.topic&&a)try{const r=await Ur({...S,creatorId:a.id,creatorName:d?.displayName||d?.name||a.name||"User",creatorAvatar:d?.avatar||d?.avatrUrl||"",members:[{userId:a.id,name:d?.displayName||d?.name||a.name||"User",avatar:d?.avatar||d?.avatrUrl||"",joinedAt:new Date,role:"creator"}]});r&&k(l=>[r,...l]);const s=await ie();s&&s.length>0&&k(s),ge(!1),H({name:"",description:"",topic:"",level:"Beginner",maxMembers:10}),h.success("Study group created successfully!")}catch(r){console.error("Error creating group:",r),h.error("Failed to create group. Please try again.")}},className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Create Group"}),e.jsx("button",{onClick:()=>ge(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-white rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})}),(()=>{const r=q.trim().toLowerCase(),s=r?Pe.filter(l=>(l.name||"").toLowerCase().includes(r)||(l.topic||"").toLowerCase().includes(r)||(l.description||"").toLowerCase().includes(r)||(l.creatorName||"").toLowerCase().includes(r)):Pe;return s.length===0?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-12 border border-gray-200 dark:border-gray-700 text-center",children:[e.jsx(Ye,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:q?"No Groups Found":"No Study Groups Yet"}),e.jsx("p",{className:"text-gray-600 dark:text-white mb-6",children:q?`No groups matching "${q}"`:"Create or join a study group to learn together"}),!q&&e.jsx("button",{onClick:()=>ge(!0),className:"px-6 py-2 text-white rounded-lg transition-all shadow-lg hover:opacity-90",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:"Create First Group"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:s.map(l=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-1",children:l.name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-white",children:["by ",l.creatorName]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${l.level==="Beginner"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":l.level==="Intermediate"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:l.level}),l.creatorId===a?.id&&e.jsx("button",{onClick:async()=>{if(window.confirm("Are you sure you want to delete this study group?"))try{await Pr(l.id);const t=await ie();k(t)}catch(t){console.error("Error deleting group:",t),alert("Failed to delete group. Please try again.")}},className:"p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Delete group",children:e.jsx(Te,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-white mb-4 line-clamp-2",children:l.description}),e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:"rgba(0, 173, 181, 0.15)",color:"#00ADB5"},children:l.topic})}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-xs font-semibold text-gray-700 dark:text-white mb-2",children:["Members (",l.members?.length||0,")"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[l.members?.slice(0,5).map((t,c)=>e.jsx("img",{src:t.avatar||`https://api.dicebear.com/9.x/adventurer/svg?seed=${t.name}`,alt:t.name,className:"w-8 h-8 rounded-full border-2 border-white dark:border-gray-800",title:t.name,style:{marginLeft:c>0?"-8px":"0"}},t.userId)),(l.members?.length||0)>5&&e.jsxs("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-xs font-bold text-gray-600 dark:text-white",style:{marginLeft:"-8px"},children:["+",(l.members?.length||0)-5]}),(!l.members||l.members.length===0)&&e.jsx("p",{className:"text-xs text-gray-500",children:"No members yet"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-white mb-4",children:[e.jsxs("span",{children:[l.members?.length||0," / ",l.maxMembers," members"]}),e.jsxs("span",{className:"text-gray-400",children:["Created ",ue(l.createdAt)]})]}),e.jsx("button",{onClick:()=>D(l),className:"w-full px-4 py-2 text-white rounded-lg transition-all text-sm font-semibold shadow-md hover:opacity-90",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:"View Details"})]},l.id))})})()]})},yr=async()=>{if(!b.website||!b.title||!b.content){h.error("Please fill in required fields (Website, Title, Review)");return}try{const r=$e(d,a?.id),s={userId:a?.id,userName:d?.displayName||a?.name||"Anonymous",userAvatar:r,userLevel:d?.level||"Student",website:b.website,url:b.url,category:b.category,rating:b.rating,title:b.title,content:b.content,pros:b.pros.split(",").map(t=>t.trim()).filter(Boolean),cons:b.cons.split(",").map(t=>t.trim()).filter(Boolean),timestamp:new Date().toISOString(),likes:0,comments:0,helpful:0},l=await f("/developers/tech-reviews",{method:"POST",body:JSON.stringify(s)});l.review?O(t=>[l.review,...t]):O(t=>[{...s,id:`temp-${Date.now()}`},...t]),ee(!1),M({website:"",url:"",category:"",rating:5,title:"",content:"",pros:"",cons:""}),h.success("Review posted successfully!")}catch(r){console.error("Error posting review:",r),h.error("Failed to post review. Please try again.")}},br=async()=>{if(!A.title||!A.description){h.error("Please fill in title and description");return}try{const r={userId:a?.id,userName:d?.displayName||a?.name||"Anonymous",userAvatar:$e(d,a?.id),title:A.title,description:A.description,tags:A.tags.split(",").map(l=>l.trim()).filter(Boolean),timestamp:new Date().toISOString(),responses:0},s=await f("/developers/help-requests",{method:"POST",body:JSON.stringify(r)});s.request?W(l=>[s.request,...l]):W(l=>[{...r,id:`temp-${Date.now()}`},...l]),re(!1),me({title:"",description:"",tags:""}),h.success("Help request posted successfully!")}catch(r){console.error("Error posting request:",r),h.error("Failed to post request. Please try again.")}},fr=async r=>{try{await f(`/developers/tech-reviews/${r}/like`,{method:"POST"}),O(s=>s.map(l=>l.id===r?{...l,likes:(l.likes||0)+1}:l))}catch(s){console.error("Error liking review:",s)}},wr=async r=>{try{await f(`/developers/tech-reviews/${r}/helpful`,{method:"POST"}),O(s=>s.map(l=>l.id===r?{...l,helpful:(l.helpful||0)+1}:l)),h.success("Marked as helpful!")}catch(s){console.error("Error marking helpful:",s)}},jr=async r=>{if(window.confirm("Are you sure you want to delete this review?"))try{await f(`/developers/tech-reviews/${r}`,{method:"DELETE"}),O(s=>s.filter(l=>l.id!==r)),h.success("Review deleted successfully")}catch(s){console.error("Error deleting review:",s),h.error("Failed to delete review")}},Nr=async r=>{if(window.confirm("Are you sure you want to delete this request?"))try{await f(`/developers/help-requests/${r}`,{method:"DELETE"}),W(s=>s.filter(l=>l.id!==r)),h.success("Request deleted successfully")}catch(s){console.error("Error deleting request:",s),h.error("Failed to delete request")}},vr=async()=>{if(!xe.trim()||!j){h.error("Please enter your reply");return}try{const r={content:xe,userName:d?.displayName||a?.name||"Anonymous",userAvatar:$e(d,a?.id)},s=await f(`/developers/help-requests/${j.id}/respond`,{method:"POST",body:JSON.stringify(r)});W(l=>l.map(t=>t.id===j.id?{...t,responses:s.responses||(t.responses||0)+1,replies:s.replies||[...t.replies||[],s.reply]}:t)),P(l=>l?{...l,responses:s.responses||(l.responses||0)+1,replies:s.replies||[...l.replies||[],s.reply]}:null),te(""),h.success("Reply sent successfully!")}catch(r){console.error("Error submitting reply:",r),h.error("Failed to send reply")}},Ce=async r=>{try{return(await f(`/developers/help-requests/${r}/replies`)).replies||[]}catch(s){return console.error("Error fetching replies:",s),[]}},Ae=tr.filter(r=>r.website?.toLowerCase().includes(U.toLowerCase())||r.title?.toLowerCase().includes(U.toLowerCase())||r.category?.toLowerCase().includes(U.toLowerCase())),Ie=sr.filter(r=>r.title?.toLowerCase().includes(U.toLowerCase())||r.description?.toLowerCase().includes(U.toLowerCase())||r.tags?.some(s=>s.toLowerCase().includes(U.toLowerCase()))),kr=()=>e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:e.jsx(Tr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Tech Reviews"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Share & discover the best learning resources"})]})]}),e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.jsxs("button",{onClick:()=>ee(!0),className:"flex-1 sm:flex-none px-4 py-2 text-white rounded-lg flex items-center justify-center gap-2 hover:opacity-90 transition-opacity font-semibold",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:[e.jsx(Z,{className:"w-4 h-4"}),"Post Review"]}),e.jsxs("button",{onClick:()=>re(!0),className:"flex-1 sm:flex-none px-4 py-2 border-2 rounded-lg flex items-center justify-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors font-semibold",style:{borderColor:"#00ADB5",color:"#00ADB5"},children:[e.jsx(Z,{className:"w-4 h-4"}),"Ask for Help"]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"w-5 h-5 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search reviews, websites, categories...",value:U,onChange:r=>or(r.target.value),className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2",style:{"--tw-ring-color":"#00ADB5"}})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-1 flex gap-2",children:[e.jsxs("button",{onClick:()=>Fe("reviews"),className:`flex-1 py-2 px-4 rounded-md transition-colors font-semibold ${_==="reviews"?"text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,style:_==="reviews"?{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"}:{},children:[e.jsx(Q,{className:"w-4 h-4 inline mr-2"}),"Reviews (",Ae.length,")"]}),e.jsxs("button",{onClick:()=>Fe("requests"),className:`flex-1 py-2 px-4 rounded-md transition-colors font-semibold ${_==="requests"?"text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,style:_==="requests"?{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"}:{},children:[e.jsx(X,{className:"w-4 h-4 inline mr-2"}),"Help Requests (",Ie.length,")"]})]}),_==="reviews"&&e.jsx("div",{className:"space-y-4",children:Ae.length===0?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-12 text-center border border-gray-200 dark:border-gray-700",children:[e.jsx(Q,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No reviews yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Be the first to share a learning resource!"}),e.jsx("button",{onClick:()=>ee(!0),className:"px-6 py-2 text-white rounded-lg font-semibold",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:"Post First Review"})]}):Ae.map(r=>e.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("img",{src:r.userAvatar||`https://api.dicebear.com/9.x/adventurer/svg?seed=${r.userId}`,alt:r.userName,className:"w-12 h-12 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:r.userName}),e.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"rgba(0, 173, 181, 0.15)",color:"#00ADB5"},children:r.userLevel||"Student"}),e.jsx("span",{className:"text-gray-400",children:"â€¢"}),e.jsx("span",{className:"text-sm text-gray-500",children:ue(r.timestamp)})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.jsx("h4",{className:"text-lg font-bold",style:{color:"#00ADB5"},children:r.website}),r.url&&e.jsx("a",{href:r.url.startsWith("http")?r.url:`https://${r.url}`,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-500",children:e.jsx(Ir,{className:"w-4 h-4"})}),r.category&&e.jsx("span",{className:"text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded ml-auto",children:r.category})]}),e.jsx("div",{className:"flex gap-1 mb-2",children:[...Array(5)].map((s,l)=>e.jsx(Q,{className:`w-4 h-4 ${l<(r.rating||0)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},l))}),e.jsx("h5",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:r.title}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:r.content}),(r.pros&&r.pros.length>0||r.cons&&r.cons.length>0)&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[r.pros&&r.pros.length>0&&e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[e.jsx("h6",{className:"text-sm font-semibold text-green-800 dark:text-green-400 mb-2",children:"Pros"}),e.jsx("ul",{className:"text-sm text-green-700 dark:text-green-300 space-y-1",children:r.pros.map((s,l)=>e.jsxs("li",{children:["âœ“ ",s]},l))})]}),r.cons&&r.cons.length>0&&e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-3 rounded-lg",children:[e.jsx("h6",{className:"text-sm font-semibold text-red-800 dark:text-red-400 mb-2",children:"Cons"}),e.jsx("ul",{className:"text-sm text-red-700 dark:text-red-300 space-y-1",children:r.cons.map((s,l)=>e.jsxs("li",{children:["âœ— ",s]},l))})]})]}),e.jsxs("div",{className:"flex items-center gap-6 text-gray-500 pt-3 border-t border-gray-100 dark:border-gray-700",children:[e.jsxs("button",{onClick:()=>fr(r.id),className:"flex items-center gap-2 hover:text-red-500 transition-colors",children:[e.jsx(Lr,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:r.likes||0})]}),e.jsxs("button",{className:"flex items-center gap-2 hover:text-blue-500 transition-colors",children:[e.jsx(X,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:r.comments||0})]}),e.jsxs("button",{onClick:()=>wr(r.id),className:"flex items-center gap-2 hover:text-green-500 transition-colors",children:[e.jsx(Rr,{className:"w-5 h-5"}),e.jsxs("span",{className:"text-sm",children:[r.helpful||0," helpful"]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e.jsx("button",{className:"flex items-center gap-2 hover:text-purple-500 transition-colors",children:e.jsx(qr,{className:"w-5 h-5"})}),r.userId===a?.id&&e.jsx("button",{onClick:()=>jr(r.id),className:"flex items-center gap-2 hover:text-red-500 transition-colors",title:"Delete your review",children:e.jsx(Te,{className:"w-5 h-5"})})]})]})]})]})]})},r.id))}),_==="requests"&&e.jsx("div",{className:"space-y-4",children:Ie.length===0?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-12 text-center border border-gray-200 dark:border-gray-700",children:[e.jsx(X,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No help requests yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Need recommendations? Ask the community!"}),e.jsx("button",{onClick:()=>re(!0),className:"px-6 py-2 text-white rounded-lg font-semibold",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:"Ask for Help"})]}):Ie.map(r=>e.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("img",{src:r.userAvatar||`https://api.dicebear.com/9.x/adventurer/svg?seed=${r.userId}`,alt:r.userName,className:"w-12 h-12 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:r.userName}),e.jsx("span",{className:"text-gray-400",children:"â€¢"}),e.jsx("span",{className:"text-sm text-gray-500",children:ue(r.timestamp)})]}),e.jsx("h4",{className:"font-bold text-lg text-gray-900 dark:text-white mb-2",children:r.title}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:r.description}),r.tags&&r.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:r.tags.map((s,l)=>e.jsx("span",{className:"text-xs px-3 py-1 rounded-full",style:{backgroundColor:"rgba(0, 173, 181, 0.15)",color:"#00ADB5"},children:s},l))}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("button",{onClick:async()=>{const s=await Ce(r.id);P({...r,replies:s}),Y(!0)},className:"flex items-center gap-2 font-medium hover:opacity-80 transition-opacity",style:{color:"#00ADB5"},children:[e.jsx(X,{className:"w-4 h-4"}),r.responses||0," responses"]}),e.jsx("button",{onClick:async()=>{if(r.userId===a?.id){const l=await Ce(r.id);P({...r,replies:l}),Y(!0);return}const s=await Ce(r.id);P({...r,replies:s}),Y(!0)},className:"text-gray-600 dark:text-gray-400 hover:text-blue-500 transition-colors",children:r.userId===a?.id?"View Replies":"Help Answer"}),r.userId===a?.id&&e.jsxs("button",{onClick:()=>Nr(r.id),className:"flex items-center gap-2 text-gray-500 hover:text-red-500 transition-colors ml-auto",title:"Delete your request",children:[e.jsx(Te,{className:"w-4 h-4"}),"Delete"]})]})]})]})},r.id))}),ar&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Post a Review"}),e.jsx("button",{onClick:()=>ee(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:e.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-white mb-1",children:"Website Name *"}),e.jsx("input",{type:"text",value:b.website,onChange:r=>M({...b,website:r.target.value}),className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2",placeholder:"e.g., LeetCode, freeCodeCamp",style:{"--tw-ring-color":"#00ADB5"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-white mb-1",children:"Website URL"}),e.jsx("input",{type:"text",value:b.url,onChange:r=>M({...b,url:r.target.value}),className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2",placeholder:"e.g., leetcode.com",style:{"--tw-ring-color":"#00ADB5"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-white mb-1",children:"Category"}),e.jsxs("select",{value:b.category,onChange:r=>M({...b,category:r.target.value}),className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2",style:{"--tw-ring-color":"#00ADB5"},children:[e.jsx("option",{value:"",children:"Select category"}),ir.map(r=>e.jsx("option",{value:r,children:r},r))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-white mb-1",children:"Rating"}),e.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(r=>e.jsx(Q,{className:`w-8 h-8 cursor-pointer transition-colors ${r<=b.rating?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-200"}`,onClick:()=>M({...b,rating:r})},r))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-white mb-1",children:"Review Title *"}),e.jsx("input",{type:"text",value:b.title,onChange:r=>M({...b,title:r.target.value}),className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2",placeholder:"Summarize your experience",style:{"--tw-ring-color":"#00ADB5"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-white mb-1",children:"Detailed Review *"}),e.jsx("textarea",{value:b.content,onChange:r=>M({...b,content:r.target.value}),className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white h-32 focus:outline-none focus:ring-2",placeholder:"Share your experience, tips, and insights...",style:{"--tw-ring-color":"#00ADB5"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-white mb-1",children:"Pros (comma separated)"}),e.jsx("input",{type:"text",value:b.pros,onChange:r=>M({...b,pros:r.target.value}),className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2",placeholder:"Great UI, Free resources, Active community",style:{"--tw-ring-color":"#00ADB5"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-white mb-1",children:"Cons (comma separated)"}),e.jsx("input",{type:"text",value:b.cons,onChange:r=>M({...b,cons:r.target.value}),className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2",placeholder:"Expensive, Limited content, Slow support",style:{"--tw-ring-color":"#00ADB5"}})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:yr,className:"flex-1 py-2 text-white rounded-lg font-semibold hover:opacity-90 transition-opacity",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:"Post Review"}),e.jsx("button",{onClick:()=>ee(!1),className:"flex-1 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-white rounded-lg font-semibold hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})}),lr&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Ask for Help"}),e.jsx("button",{onClick:()=>re(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:e.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-white mb-1",children:"What are you looking for? *"}),e.jsx("input",{type:"text",value:A.title,onChange:r=>me({...A,title:r.target.value}),className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2",placeholder:"e.g., Best resources to learn React",style:{"--tw-ring-color":"#00ADB5"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-white mb-1",children:"Description *"}),e.jsx("textarea",{value:A.description,onChange:r=>me({...A,description:r.target.value}),className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white h-24 focus:outline-none focus:ring-2",placeholder:"Describe what you're looking for, your current level, specific requirements...",style:{"--tw-ring-color":"#00ADB5"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-white mb-1",children:"Tags (comma separated)"}),e.jsx("input",{type:"text",value:A.tags,onChange:r=>me({...A,tags:r.target.value}),className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2",placeholder:"React, Frontend, Beginner",style:{"--tw-ring-color":"#00ADB5"}})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:br,className:"flex-1 py-2 text-white rounded-lg font-semibold hover:opacity-90 transition-opacity",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:"Post Request"}),e.jsx("button",{onClick:()=>re(!1),className:"flex-1 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-white rounded-lg font-semibold hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})}),nr&&j&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-800 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:j.userId===a?.id?"View Replies":"Reply to Request"}),e.jsx("button",{onClick:()=>{Y(!1),te(""),P(null)},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:e.jsx(ne,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("img",{src:j.userAvatar||`https://api.dicebear.com/9.x/adventurer/svg?seed=${j.userId}`,alt:j.userName,className:"w-8 h-8 rounded-full"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:j.userName}),j.userId===a?.id&&e.jsx("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-2 py-0.5 rounded-full",children:"Your Request"})]}),e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-1",children:j.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:j.description})]}),j.replies&&j.replies.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-700 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4"}),j.replies.length," ",j.replies.length===1?"Reply":"Replies"]}),e.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:j.replies.map((r,s)=>e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("img",{src:r.userAvatar||`https://api.dicebear.com/9.x/adventurer/svg?seed=${r.userId}`,alt:r.userName,className:"w-6 h-6 rounded-full"}),e.jsx("span",{className:"font-medium text-sm text-gray-900 dark:text-white",children:r.userName}),e.jsx("span",{className:"text-xs text-gray-500",children:ue(r.createdAt)})]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:r.content})]},r.id||s))})]}),j.userId===a?.id&&(!j.replies||j.replies.length===0)&&e.jsxs("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:[e.jsx(X,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No replies yet. Check back later!"})]}),j.userId!==a?.id&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-white mb-1",children:"Your Reply *"}),e.jsx("textarea",{value:xe,onChange:r=>te(r.target.value),className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white h-24 focus:outline-none focus:ring-2",placeholder:"Share your recommendation, resources, or advice...",style:{"--tw-ring-color":"#00ADB5"}})]})}),e.jsx("div",{className:"flex gap-3 mt-6",children:j.userId!==a?.id?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:vr,disabled:!xe.trim(),className:"flex-1 py-2 text-white rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:"Send Reply"}),e.jsx("button",{onClick:()=>{Y(!1),te(""),P(null)},className:"flex-1 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-white rounded-lg font-semibold hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"})]}):e.jsx("button",{onClick:()=>{Y(!1),te(""),P(null)},className:"w-full py-2 text-white rounded-lg font-semibold hover:opacity-90 transition-opacity",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:"Close"})})]})})]});return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-3 sm:p-4 md:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-2",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Developer Connect ðŸ¤"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-white",children:"Find teammates, build together, grow your network"})]})})}),e.jsx("div",{className:"flex gap-1 sm:gap-2 mb-6 sm:mb-8 border-b border-gray-200 dark:border-gray-700 overflow-x-auto scrollbar-hide",children:[{id:"directory",label:"Developer Directory",icon:he},{id:"messages",label:"Messages",icon:Cr},{id:"groups",label:"Study Groups",icon:Ye},{id:"reviews",label:"Tech Reviews",icon:Q}].map(r=>{const s=r.icon;return e.jsxs("button",{onClick:()=>B(r.id),className:`px-2 sm:px-4 py-2 sm:py-3 font-semibold flex items-center gap-1 sm:gap-2 border-b-2 transition-colors whitespace-nowrap text-xs sm:text-base ${w===r.id?"border-transparent":"border-transparent text-gray-600 dark:text-white hover:text-gray-900 dark:hover:text-white"}`,style:w===r.id?{borderBottomColor:"#00ADB5",color:"#00ADB5"}:{},children:[e.jsx(s,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden sm:inline",children:r.label}),e.jsx("span",{className:"sm:hidden",children:r.id==="directory"?"Directory":r.id==="messages"?"Messages":r.id==="groups"?"Groups":"Reviews"})]},r.id)})}),w==="directory"&&hr(),w==="messages"&&ur(),w==="groups"&&pr(),w==="reviews"&&kr()]})})}export{rt as default};
