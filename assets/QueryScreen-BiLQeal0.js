import{r as a,l as h,n as b,j as e}from"./index-Cx0yxhaY.js";function f(){const[r,d]=a.useState([]),[n,o]=a.useState(""),[u,l]=a.useState(""),{user:c}=h(),{writeQueryOnDate:g,fetchTodayQueries:x}=b(),y=()=>{if(!n.trim())return;const s={id:r.length+1,question:n,answer:"Waiting for answer...",createdAt:new Date,ans_user:"",userId:c?.id};d([...r,s]),o(""),g(s)};return a.useEffect(()=>{x().then(async s=>{const i=s.map(t=>({id:t.id,question:t.question,answer:t.answer,ans_user:t.ans_user,createdAt:t.createdAt,userId:t.userId}));await new Promise(t=>setTimeout(t,1e3)),i.length!==0?d(i):l("No Question Today!!")})},[]),r.length==0&&u==""?e.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading Question"})}):e.jsxs("div",{className:"flex flex-col h-full bg-gray-50 dark:bg-gray-900 p-6 overflow-y-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Query & Discussion"}),e.jsx("div",{className:"space-y-4",children:r.map(s=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:s.question}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mt-2",children:s.answer}),e.jsx("div",{className:"mt-2 space-x-2",children:e.jsx("span",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:s.ans_user})})]},s.id))}),e.jsxs("div",{className:"mt-6 bg-white dark:bg-gray-800 p-4 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[e.jsx("textarea",{value:n,onChange:s=>o(s.target.value),placeholder:"Type your question...",className:"w-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-white rounded-lg p-3 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:y,className:"mt-3 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",style:{backgroundColor:"#00ADB5"},children:"Add Question"})]})]})}export{f as default};
