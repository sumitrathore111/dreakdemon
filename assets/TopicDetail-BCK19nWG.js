import{g as T,H as P,l as _,r as d,j as e,B as b,d as l,N as n,x as L,E,J as $}from"./index-BveqCJh-.js";import{c as S,P as I,m as F,b as R}from"./roadmapService-BdJIeJYw.js";import{C as y}from"./chevron-right-CQshN7DG.js";import{C as H}from"./clock-aik9kGBQ.js";import{F as j}from"./file-text-DRVrSK3b.js";import{C as M}from"./circle-question-mark-BxjUyWSv.js";import{C as Q}from"./chevron-left-hmmNjgds.js";import{P as V}from"./play-BuExcZRO.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],J=T("video",z),K={video:e.jsx(J,{className:"w-4 h-4"}),article:e.jsx(j,{className:"w-4 h-4"}),course:e.jsx(b,{className:"w-4 h-4"}),documentation:e.jsx(j,{className:"w-4 h-4"}),tutorial:e.jsx(V,{className:"w-4 h-4"})},O={video:"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400",article:"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400",course:"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400",documentation:"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400",tutorial:"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400"};function ae(){const{topicId:o}=P(),{user:w}=_(),u=!!w,[s,v]=d.useState(null),[A,N]=d.useState(!0),[c,k]=d.useState(!1),[f,C]=d.useState({}),x=d.useCallback(async()=>{try{N(!0);const a=await S(o);v(a)}catch(a){console.error("Error loading topic:",a)}finally{N(!1)}},[o]);d.useEffect(()=>{o&&x()},[o,x]);const B=async()=>{if(!(!s||!u))try{k(!0),s.isCompleted?await F(s.topic._id):await R(s.topic._id),await x()}catch(a){console.error("Error toggling completion:",a)}finally{k(!1)}},D=a=>{C(t=>({...t,[a]:!t[a]}))};if(A)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4 md:p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-full mb-8"}),e.jsx("div",{className:"space-y-4",children:[1,2,3].map(a=>e.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded-xl"},a))})]})});if(!s)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(b,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Topic not found"}),e.jsx(l,{to:"/dashboard/roadmaps",className:"text-[#00ADB5] hover:underline",children:"Browse all roadmaps"})]})});const{topic:r,questions:m,navigation:i,isCompleted:g}=s,p=I[r.phase],h=r.roadmapId;return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4 md:p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-6 flex-wrap",children:[e.jsx(l,{to:"/dashboard/roadmaps",className:"hover:text-[#00ADB5]",children:"Roadmaps"}),e.jsx(y,{className:"w-4 h-4"}),e.jsx(l,{to:`/dashboard/roadmaps/${h.slug}`,className:"hover:text-[#00ADB5]",children:h.title}),e.jsx(y,{className:"w-4 h-4"}),e.jsx("span",{className:"text-gray-900 dark:text-white",children:r.title})]}),e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("span",{className:"text-4xl",children:r.icon}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"px-2.5 py-1 text-xs font-medium rounded-full",style:{background:`${p.color}20`,color:p.color},children:p.label}),e.jsxs("span",{className:"flex items-center gap-1 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx(H,{className:"w-4 h-4"}),r.estimatedHours," hours"]})]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.title})]})]}),u&&e.jsxs("button",{onClick:B,disabled:c,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${g?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-[#00ADB5] text-white hover:bg-[#00969d]"} ${c?"opacity-50":""}`,children:[c?e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):g?e.jsx(L,{className:"w-4 h-4"}):null,g?"Completed":"Mark Complete"]})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:r.description}),r.keyPoints&&r.keyPoints.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Key Concepts"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.keyPoints.map((a,t)=>e.jsx("span",{className:"px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm rounded-lg",children:a},t))})]})]}),r.resources&&r.resources.length>0&&e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5 text-[#00ADB5]"}),"Learning Resources"]}),e.jsx("div",{className:"space-y-3",children:r.resources.map((a,t)=>e.jsxs("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors group",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${O[a.type]||"bg-gray-100 text-gray-600"}`,children:K[a.type]||e.jsx(j,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white group-hover:text-[#00ADB5] transition-colors truncate",children:a.title}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"capitalize",children:a.type}),a.platform&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:a.platform})]}),a.duration&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:a.duration})]}),a.isFree&&e.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 text-xs rounded",children:"Free"})]})]}),e.jsx(E,{className:"w-5 h-5 text-gray-400 group-hover:text-[#00ADB5] transition-colors"})]},t))})]}),m&&m.length>0&&e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(M,{className:"w-5 h-5 text-purple-500"}),"Related Interview Questions"]}),e.jsx("div",{className:"space-y-4",children:m.map(a=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${a.difficulty==="easy"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":a.difficulty==="medium"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:a.difficulty}),a.company&&e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.company})]}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:a.question})]}),e.jsxs("button",{onClick:()=>D(a._id),className:"text-sm text-[#00ADB5] hover:underline whitespace-nowrap",children:[f[a._id]?"Hide":"Show"," Answer"]})]}),f[a._id]&&e.jsx(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-600",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:a.answer})})]},a._id))})]}),r.relatedProjects&&r.relatedProjects.length>0&&e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"ðŸš€ Practice Projects"}),e.jsx("ul",{className:"space-y-2",children:r.relatedProjects.map((a,t)=>e.jsxs("li",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx("div",{className:"w-2 h-2 bg-[#00ADB5] rounded-full"}),a]},t))})]}),e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex items-center justify-between",children:[i.prevTopic?e.jsxs(l,{to:`/dashboard/roadmaps/topic/${i.prevTopic._id}`,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-gray-600 dark:text-gray-400 hover:border-[#00ADB5] hover:text-[#00ADB5] transition-colors",children:[e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:i.prevTopic.title}),e.jsx("span",{className:"sm:hidden",children:"Previous"})]}):e.jsx("div",{}),e.jsxs(l,{to:`/dashboard/roadmaps/${h.slug}`,className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 hover:text-[#00ADB5] transition-colors",children:[e.jsx($,{className:"w-4 h-4"}),"Back to Roadmap"]}),i.nextTopic?e.jsxs(l,{to:`/dashboard/roadmaps/topic/${i.nextTopic._id}`,className:"flex items-center gap-2 px-4 py-2 bg-[#00ADB5] text-white rounded-lg hover:bg-[#00969d] transition-colors",children:[e.jsx("span",{className:"hidden sm:inline",children:i.nextTopic.title}),e.jsx("span",{className:"sm:hidden",children:"Next"}),e.jsx(y,{className:"w-4 h-4"})]}):e.jsx("div",{})]})]})})}export{ae as default};
