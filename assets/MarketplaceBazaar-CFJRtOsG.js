import{j as e,ac as j,e as m,E as B,r as i,a8 as g,f as y,t as S}from"./index-C_7fvj66.js";import{C as w}from"./CustomSelect-DJ9E6bkb.js";import{b as D}from"./marketplaceServiceNew-Bl4gY129.js";import{C as P}from"./marketplace-Deg-FW8s.js";import{C as L}from"./ChatRequests-Bz3DDrmR.js";import{M as E}from"./MessagesPanel-Cn6Qn3pD.js";import{S as f}from"./star-CMRtsb0h.js";import{E as F}from"./eye-BUrDPP6I.js";import{S as R}from"./shopping-cart-BSmFP7G6.js";import{G as M}from"./github-CG0OF4B3.js";import{P as T}from"./plus-BamEFfKy.js";import"./chevron-down-CZnUekYa.js";import"./ChatWindow-Dx3kUXqe.js";import"./send-DvNiBjp6.js";function z({project:s}){const o=l=>l===0?"FREE":`$${l}`;return e.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-8},transition:{duration:.3},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all",children:e.jsxs(m,{to:`/dashboard/marketplace/project/${s.id}`,children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:[s.images&&s.images.length>0?e.jsx("img",{src:s.images[0],alt:s.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-white text-6xl font-bold",children:s.title.charAt(0)}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:`px-4 py-1.5 rounded-full text-sm font-bold shadow-lg ${s.isFree?"bg-green-500 text-white":"bg-white dark:bg-gray-800"}`,style:s.isFree?{}:{color:"#00ADB5"},children:o(s.price)})}),s.rating>0&&e.jsxs("div",{className:"absolute top-3 left-3 bg-black/70 backdrop-blur-sm px-3 py-1 rounded-full flex items-center gap-1 shadow-lg",children:[e.jsx(f,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),e.jsx("span",{className:"text-white text-sm font-semibold",children:s.rating.toFixed(1)})]})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 line-clamp-2 transition-colors",style:{"--hover-color":"#00ADB5"},children:s.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-white mb-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.techStack.slice(0,3).map((l,d)=>e.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium",style:{backgroundColor:"rgba(0, 173, 181, 0.15)",color:"#00ADB5"},children:l},d)),s.techStack.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-white rounded text-xs font-medium",children:["+",s.techStack.length-3]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("img",{src:s.sellerAvatar||"https://via.placeholder.com/40",alt:s.sellerName,className:"w-8 h-8 rounded-full border-2",style:{borderColor:"#00ADB5"}}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:s.sellerName})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-white border-t border-gray-200 dark:border-gray-700 pt-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{children:s.views||0})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{children:s.purchases||0})]}),s.reviewCount>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(f,{className:"w-4 h-4"}),e.jsx("span",{children:s.reviewCount})]})]}),(s.links.github||s.links.liveDemo)&&e.jsxs("div",{className:"flex gap-3 mt-3",children:[s.links.github&&e.jsxs("div",{className:"flex items-center gap-1 text-gray-600 dark:text-white",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Code"})]}),s.links.liveDemo&&e.jsxs("div",{className:"flex items-center gap-1 text-gray-600 dark:text-white",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Demo"})]})]})]})]})})}function X(){const[s,o]=i.useState([]),[l,d]=i.useState([]),[N,p]=i.useState(!0),[c,b]=i.useState(""),[n,u]=i.useState("all"),[x,v]=i.useState("newest");i.useEffect(()=>{k()},[]),i.useEffect(()=>{C()},[s,c,n,x]);const k=async()=>{try{p(!0);const a=await D();o(a),d(a)}catch(a){console.error("Error loading projects:",a),o([]),d([])}finally{p(!1)}},C=()=>{let a=[...s];if(n!=="all"&&(a=a.filter(t=>t.category===n)),c){const t=c.toLowerCase();a=a.filter(r=>r.title.toLowerCase().includes(t)||r.description.toLowerCase().includes(t)||r.techStack.some(A=>A.toLowerCase().includes(t)))}switch(x){case"newest":a.sort((t,r)=>r.createdAt.getTime()-t.createdAt.getTime());break;case"popular":a.sort((t,r)=>r.purchases-t.purchases);break;case"rating":a.sort((t,r)=>r.rating-t.rating);break;case"price-low":a.sort((t,r)=>t.price-r.price);break;case"price-high":a.sort((t,r)=>r.price-t.price);break}d(a)},h={totalProjects:s.length,totalSales:s.reduce((a,t)=>a+t.purchases,0),avgRating:s.length>0?s.reduce((a,t)=>a+t.rating,0)/s.length:0};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-3 sm:p-4 md:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs(j.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 sm:mb-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4 sm:mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-2",style:{color:"#00ADB5"},children:"Project Bazaar ðŸ›’"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-white",children:"Buy and sell amazing projects from talented developers"})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[e.jsx(L,{}),e.jsx(E,{}),e.jsxs(m,{to:"/dashboard/marketplace/my-purchases",className:"px-3 sm:px-4 py-2 bg-white dark:bg-gray-800 border-2 rounded-lg hover:bg-[#00ADB5]/10 dark:hover:bg-[#00ADB5]/20 transition-colors flex items-center gap-1 sm:gap-2 font-semibold text-sm sm:text-base whitespace-nowrap",style:{borderColor:"#00ADB5",color:"#00ADB5"},children:[e.jsx(g,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden xs:inline",children:"My "}),"Purchases"]}),e.jsxs(m,{to:"/dashboard/marketplace/my-listings",className:"px-3 sm:px-4 py-2 bg-white dark:bg-gray-800 border-2 rounded-lg hover:bg-[#00ADB5]/10 dark:hover:bg-[#00ADB5]/20 transition-colors flex items-center gap-1 sm:gap-2 font-semibold text-sm sm:text-base whitespace-nowrap",style:{borderColor:"#00ADB5",color:"#00ADB5"},children:[e.jsx(y,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden xs:inline",children:"My "}),"Listings"]}),e.jsxs(m,{to:"/dashboard/marketplace/create",className:"px-4 sm:px-6 py-2 text-white rounded-lg transition-all flex items-center gap-1 sm:gap-2 font-semibold text-sm sm:text-base shadow-lg hover:opacity-90 whitespace-nowrap",style:{background:"linear-gradient(135deg, #00ADB5 0%, #00d4ff 100%)"},children:[e.jsx(T,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Sell Project"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-5 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"rgba(0, 173, 181, 0.1)"},children:e.jsx(g,{className:"w-6 h-6",style:{color:"#00ADB5"}})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h.totalProjects}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-white",children:"Projects Listed"})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-5 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"rgba(0, 173, 181, 0.1)"},children:e.jsx(y,{className:"w-6 h-6",style:{color:"#00ADB5"}})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h.totalSales}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-white",children:"Total Sales"})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-5 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-shadow sm:col-span-2 md:col-span-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/30 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"â­"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:h.avgRating.toFixed(1)}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-white",children:"Average Rating"})]})]})})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 border border-gray-200 dark:border-gray-700 shadow-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(S,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("input",{type:"text",value:c,onChange:a=>b(a.target.value),placeholder:"Search projects...",className:"w-full pl-9 sm:pl-10 pr-4 py-2 sm:py-3 text-sm sm:text-base border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#00ADB5] focus:bg-white dark:focus:bg-gray-600 transition-all"})]}),e.jsx(w,{value:n,onChange:a=>u(a),options:[{value:"all",label:"All Categories"},...Object.entries(P).map(([a,t])=>({value:a,label:t}))],className:"w-full sm:min-w-[180px] sm:w-auto"}),e.jsx(w,{value:x,onChange:a=>v(a),options:[{value:"newest",label:"Newest First"},{value:"popular",label:"Most Popular"},{value:"rating",label:"Highest Rated"},{value:"price-low",label:"Price: Low to High"},{value:"price-high",label:"Price: High to Low"}],className:"w-full sm:min-w-[180px] sm:w-auto"})]})}),e.jsx("div",{className:"mb-3 sm:mb-4",children:e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 dark:text-white",children:["Showing ",l.length," project",l.length!==1?"s":""]})}),N?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-t-transparent rounded-full animate-spin mb-4",style:{borderColor:"#00ADB5",borderTopColor:"transparent"}}),e.jsx("p",{className:"text-gray-600 dark:text-white font-medium",children:"Loading amazing projects..."})]}):l.length===0?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-12 text-center border border-gray-200 dark:border-gray-700 shadow-sm",children:[e.jsx("div",{className:"p-4 rounded-full w-24 h-24 mx-auto mb-6 flex items-center justify-center",style:{backgroundColor:"rgba(0, 173, 181, 0.1)"},children:e.jsx(g,{className:"w-12 h-12",style:{color:"#00ADB5"}})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"No projects found"}),e.jsx("p",{className:"text-gray-600 dark:text-white text-lg mb-6",children:"No projects match your search criteria"}),e.jsx("button",{onClick:()=>{b(""),u("all")},className:"px-6 py-3 text-white rounded-lg transition-colors font-semibold hover:opacity-90",style:{backgroundColor:"#00ADB5"},children:"Clear All Filters"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:l.map(a=>e.jsx(z,{project:a},a.id))})]})})}export{X as default};
